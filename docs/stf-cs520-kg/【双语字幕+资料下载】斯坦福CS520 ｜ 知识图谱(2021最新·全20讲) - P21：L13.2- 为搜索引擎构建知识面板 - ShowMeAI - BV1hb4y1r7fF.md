# P21：L13.2- 为搜索引擎构建知识面板 - ShowMeAI - BV1hb4y1r7fF

![](img/bd5e676fe737aacf1a8324261336d577_0.png)

让我把这个可爱的在这里我们去好，呃，谢谢大家邀请我，今天来到这里真是荣幸，我要谈谈我在涅瓦做的一些工作，我会给你介绍一下涅瓦和司徒胜的背景，呃马克斯·艾伦和布兰登·钟，除其他外。

我们今天在这里讨论的背景是建立知识面板，为我们的搜索引擎，嗯，我们要检查，它这个，只是知识面板，我们不会做，回答问题之类的，所以今天只是知识面板，所以简单介绍一下涅瓦是什么，我们是谁。

我们为什么要做我们正在做的事情，下面是查询的搜索结果示例，最好的耳机在这里你看到没有广告，为用户确定结果的优先级，他们给用户提供与他们的任务相关的信息，在这种情况下，审查，嗯，来自各种可信的审查来源。

以及价格，他们可以买到，涅瓦的整个想法是，我们正在从头开始建立一个新的搜索引擎，那不是现在，也永远不会得到广告支持，正因为如此，我们可以只为我们的客户工作，最终用户，所以我们的MO。

我们的激励措施与用户一致，与广告商相反，因为我们是从头开始做这件事的，我们必须建立很多功能，嗯，我们可能甚至没有预料到，我们必须建造，所以当我们在登机用户时，嗯。

我们发现你知道用户开始依赖所有类型的东西，我们最初认为我们可以专注于十个蓝色链接，但后来他们开始询问天气和库存，但人们最想要的是一个知识面板，所以知识面板是搜索结果右手边的东西，因此，如果用户发出查询。

阿尔伯特爱因斯坦，他们可能会从任何其他搜索引擎那里得到像这样的知识面板，所以在左边你有谷歌，在中间你有，右边是涅瓦，今天我要讲的是我们是如何在右边建造这个东西的，这里有趣的是。

知识面板包括来自知识图的信息摘要，在最左边的情况下，这是谷歌的内部知识之路，它对它们所显示的事实有优先级，谷歌优先考虑孩子和配偶，然而呃，被优先考虑，呃，爱因斯坦的身高，和他的兄弟姐妹如此不同，呃。

搜索引擎有不同的优先级，这也将在几个小时内出现，所以每当你开始，你得从某个地方开始，我们需要数据，我们没有很多时间，因为用户都在乞求这个，我们得尽快找到他们，所以我们从显而易见的地方开始。

让我们从维基百科开始，维基百科已经有信息框了，让我们直接跳进去，这正是我们试图开始的方式，所以维基百科上的一个信息框是，呃，右手边的面板，其中包括您在这里看到的实体的摘要。

阿尔伯特·爱因斯坦有一个出生日期，公民身份，等，维基百科中的内部表示是WikiWikimedia标记，它包含这些信息框的描述符，挑战是一个，我一直找不到一个好的解析器。

在这个数据的顶部实际上有一个相当复杂的类型层次结构，你会注意到这里说阿尔伯特·爱因斯坦是一位科学家，但科学家是人类的一个亚类，通过这个，所有这些字段都是通过对这些字段进行操作的模板进行转换的，嗯。

这些不同的类型，即使我们有这个，我们可以解析维基百科上的html，或者我们可以只处理维基媒体，不管怎样，我们想稍后构建一个演示文稿，回到我们前面的示例，嗯，我们不想看到维基百科在其他领域之上的公民身份。

我们对著名的作品更感兴趣，比如说，所以如果我们必须构建一个表示层，这意味着我们无论如何都必须了解这些数据，如果我们只是处理，嗯，那么我们将无法理解丰富的类型信息，比如说，我们就不知道这个。

此日期实际上是日期对象，知道这是一次约会，允许我们以用户首选的区域设置格式向用户呈现日期，Wikimedia已经决定将日期呈现为Day，年月，一些用户更喜欢月日年，所以我们可以设置为每个用户。

所以考虑到我们需要了解日期我们需要建立自己的，表示层，直接跳转到知识图是有意义的，这正是我们所做的，我们调查了DBpedia，但经过调查，DBpedia只比Wikidata大一点。

维基数据是由维基媒体基金会赞助的，数据现在正从dbpedia回流到wikidata，所以我们去维基数据是有意义的，这是维基媒体自己的知识图，他们与世界分享，所以这就是我们要关注的地方。

Wiki数据是您的标准知识图，它的主题，对象，谓语，他们有一个很棒的浏览器，这里有一个例子，在右手边，你可以在这里看到各种各样的谓词，性或性别，您可以看到与之关联的对象。

对象实际上可以是带有修饰符的对象列表，在这种情况下，国籍国，他，呃，爱因斯坦是德意志帝国的公民，瑞士，美国，除其他外，他们有，呃，改性剂，那是那个事实或断言为真的时间，在这种情况下。

他是德意志帝国的公民，直到1879年，在左手边，您可以看到实际数据是什么样子的，所以Wikidata以三种格式发布他们的数据集，有两种图形数据库格式，然后是一个平面文件格式，我一会儿再讨论这个问题。

因此，考虑到这一点，我们决定同时使用维基百科和维基数据，特别是，我们将使用维基百科来获得这个摘要，顶部的短文本和缩略图，我们将使用维基数据来获得事实，我们在底部渲染，无论何时你在构建一个项目。

尤其是那种，严格的时间限制，最好从需求的优先级开始，在我们的例子中，第一优先级是服务时间的低延迟，有很多调查表明，呈现搜索结果页面所需的时间越长，用户离开的可能性就越大我们的工作是为客户服务。

所以我们希望确保我们尽可能快地呈现我们的页面，所以为了做到这一点，第一个想法是好的，让我们加载所有这些三元组，我们从Wiki数据中获得的图形数据库，那么我们的任务就变成了。

我们能为我们想要呈现的每个事实写一个Sparkle查询吗，问题是，现在一些Sparkle查询非常微不足道，他们是单身，他们是单跳，或者从实体或主体到客体的一条边，但有些不是，我们一会儿就会讨论这个问题。

当这种情况发生时，现在很难决定如何猜测，查询或实体需要多长时间，获取我们需要的所有数据并将其转换为我们需要的格式，鉴于此，事实上，我们的数据是合理的静态的，我们决定尽可能多地预先处理工作。

所以我们所做的是，我们在构建时将实体扁平化为中间表示，然后在服务时间我们用“锡拉”，这是一个键值存储，用于获取我们想要的实体，使用维基百科URL作为密钥，然后我们把中间的表示转换成我们的显示格式。

我们信任我们的搜索引擎，如果我们看到阿尔伯特·爱因斯坦在维基百科上的一两个结果，那我们就去"锡拉"，会说给我阿尔伯特·爱因斯坦的中间代表，然后我们将根据用户的区域设置将日期转换为，轻量级表示。

然后这就是被呈现为html或React Native的内容，在iOS应用程序的情况下，所以第一要务必须是快，我们通过做大部分工作和建造来实现这一点，在某些情况下，我们尽可能少地工作。

第二个优先事项是能够有可定制的模板，就像我之前展示的那样，我们希望能够说出我们关心的属性或事实，在每种类型的基础上，我们关心它们的顺序是什么，一个非常重要的例子，而必应已经决定。

阿尔伯特爱因斯坦五英尺九的身高很有趣，对大多数人来说，这种特殊的属性并不是超级有趣的，除非他们是运动员，四角裤，足球运动员，体重和身高就像，对许多拥有数据的消费者来说非常重要，所以说，不仅做。

我们需要能够从这些特定类型的实体中提取这些特征，但我们需要能够将这些转化为依赖于区域的理解，也许欧洲的一些用户更喜欢，呃，公斤，美国的一些用户更喜欢英镑，所以现在我要描述我们是如何做到这一点的。

回到我们的Wikidata示例，Wikidata将他们的数据作为知识图本身发布，但它们也将图形扁平化为JSON斑点，JSON BLOB是单个，是一个实体的所有边缘，所以我的意思是一个给定的实体。

在这种情况下，q九三七，这与阿尔伯特·爱因斯坦相对应，在这种情况下，所有的外缘，与之关联的所有谓词都被扁平化到实体中，所以它是图表中的一个跳跃，它存储在一个巨大的JSON文件中，嗯JSON线。

所以你可以一次处理这个，然后你现在可以做一些琐碎的转换，所以你可以说我关心一个公民身份的国家，但只有最近的一个，这些是我们可以陈述的事情，所以考虑到这一点，我们决定我们必须决定。

我们将如何指定我们将使用的规则，来做渲染，所以让我做一些事情，在最后一刻改变一下顺序，所以我们想做的是，我们想说我们有一些特定的实体，我们想或某种特定类型的实体，我们希望能够指定如何呈现该实体。

所以我们有一个非常好斗的工具，我们建造了，以及它的工作方式，工程师只是写规则的名字，它们定义了一个谓词，该规则应该应用于该谓词，所以在这种情况下，它是实体q 3 4 1的一个实例，对不起。

我暂时转移一下阿尔伯特爱因斯坦的话题，在这种情况下，我们谈论的是自由软件，然后用户可以点击，获取示例，获取示例，将此谓词转换为Sparkle查询，将其发布到Wikidata公共Sparkle端点。

并返回您在下面看到的示例，然后用户可以单击这些，或者工程师可以点击这些示例，并查看左边的Wikidata浏览器，这样您就可以看到哪些字段是可用的，这些值是什么，以及我们如何在右手边的中间表示中呈现它。

我们提取的字段在本例中是建立的，它有一个谓词，五七一，它是一个单值，我们这样做的原因是在某些情况下，嗯，像出生死了成立，这些都是时间上的奇异事件，在其他时候，可能有不止一个值。

就像一个运动员为之效力的球队，但你真的只想要最近的一个，所以我们可以在工具中指定，通过说我们想提取一个单例值，其次，我们可以指定一个规则，即列表，所以我们希望所有自由软件的开发者，在本例中。

OpenStreetMaps，最后我们有一个指责指标谁对此负责，他们可能做了什么笔记，在这种情况下，这条规则是由我们的Ritter首席执行官建立的，这里有一个注释，我不包括任何我们不需要的类型信息。

因为类型编码在谓词的对象中，因此，在本例中，为已创建的，五七一，对象必须是日期，所以我不需要在我的系统中做任何类型的类型声明，我可以完全依赖Wikidata中已经存在的类型声明，现在我只需要写变压器。

喜欢我关心的每一种类型的公共单位，字符串，日期，等变成一种我们可以更容易地在数据中表示的形式，然后进行最后一分钟的渲染，所以回到这里是人类统治的一个例子，所以规则的名字是人类。

它的谓词是它是对象人的实例，然后它有这些规则，现在，一个真正派上用场的地方，就像探索和迭代，我们是天生的吗，我觉得，或者天真地认为公司只有一个CEO，但是当我们探索数据的时候，一些例子向我们展示了。

在像Netflix这样的公司有不止一个首席执行官的情况下，因此，我们需要将单例更改为列表，所以我们可以增加很多，更复杂的谓词语言来提取这些或转换器，也许我们只想要现任首席执行官，不是前任CEO。

但我们在这里是为了权宜之计，所以我们选择了最简单的方法，呃定义，这个工具的输出是一个中间表示，一个程序，如果你愿意的话，如您所见，在YAML文件中表示，然后这个程序由PI Spark执行。

所以PI Spark是一个mapreduce框架，嗯，在那里你可以写Python程序，我们所做的就是把其中一个，JSON实体表示，然后我们有一个翻译，它解释我们前面指定的程序，然后它输出一个表示。

就像你在右手边看到的那样，现在一切都很好，当事情一跳之遥，在他们的大多数情况下，事情是，事实上，一跳之遥，他们是，它们只是给定实体上的谓词，嗯，我们决定，我们，我是说，呃，无畏的，呃。

我们的产品经理决定我们也应该向参议员或州展示，Wikidata没有从州到参议员的优势，在这种情况下，我们想展示黛安·范斯坦作为加州参议员，但从加州到，因为这个，我们不能就这样提取出来，作为一个事实。

当我们像我之前描述的那样处理数据时，然而，黛安·范斯坦有一个优势，标签是与美国物体持有的位置，有属性的参议员，具有标记位于管理领土实体的边，谁指着物体加利福尼亚，所以我们有希望做到这一点。

我们是这样做的，我们实际上将Wiki数据的所有平面JSON数据加载到我们的键值存储中，我们通过Wikidata实体ID键入它，现在我们有一个穷人的知识图表，而不是编写复杂的Sparkle查询。

我们可以做任何类型的计算，只要我们可以通过一个主体或一个实体本身来检查或查询，所以在本例中，我们将Wiki数据转储，我们对它进行预处理，所以我们有另一个闪亮的工作，或者对不起。

维基数据上的另一个PI火花工作，它查找Wiki数据中具有，呃，这是实例，这只是一个优化，然后它试图看看是否有一条路径可以满足，这条边缘路径，所以具体来说，我们试图找到有，嗯，担任谓语职位。

如果他们不这样做，如果这里的任何地方这些约束不匹配，我们已经抛弃了，所以我们试图找到保持的位置，美国参议员，如果这是真的，然后我们看看上面的限定词，美国参议员，我们检查他们的选区，现在注意这里没有实体。

这里没有物体，有一个隐含的对象，所以如果这是闪闪发光的，这将是一个非约束值，然后使用这个未绑定的值在Sylla中查找，所以我们会在这种情况下找到，那是加州第一区，或者呃。

我们将在我们的scilla键值存储中查找，因为我们有这个实体作为这个谓词的对象，一旦我们有了它，我们就会追逐下一个边缘，鉴于那个实体，然后我们将在行政领土实体中查看它，也就是P一三一。

这里的目标是加利福尼亚，我们的黛安找到斯坦的例子，所以现在我们要做的是建立一个非常简单的数据库，当实体是加利福尼亚时，有一个反转规则知道如何生成场中心，它有价值黛安娜·范斯坦，这是这里的原始输入，好的。

所以我们现在刚刚倒置了数据集，幸运的是，这不是很常见，因此，当我们进行下一阶段时，我们可以将所有这些加载到内存中，所以正如我们前面所描述的，嗯，正如我们前面所描述的，当我们抱歉的时候，我们就可以，嗯。

只要把它加载到内存中，当我们遇到这些转换规则之一时，我们可以说，好的，加利福尼亚是一个州，有一个反转规则，然后当反转规则设置好，我们会查一下记忆中的数据库，看看是否有我们预处理过的相应值，如果有的话。

然后我们把它渲染得和以前一样，所以再一次，我们正在尽可能多地工作来争取时间，是呀，它是，处理这个数据集两次有点慢，它大约需要一个太字节，取决于你对机器的攻击性在一小时30分钟之间，所以现在我们要做两次。

但谁在乎计算时间是免费的，与工程努力和用户意识相比，努力，所以现在我们有了我们的P零，这些是我们绝对必须拥有的东西，为了推出一个产品，所以下一个任务是构建漂亮的图片，所以我们的第一个想法是好的。

wikidata有一个很好的谓词叫做image，所以我们可以提取它，继续我们的生活，但出于某种原因，我决定看看一些实体，我发现在他的阿甘的实体的情况下，它的形象是这个奇妙的蜡像，你看左边这里。

如果我们把这一点展示给我们的客户，我敢肯定他们会很不满意，然而，相应的维基百科文章上的图像很棒，它是电影海报上的原始艺术，所以考虑到这一点，我们决定不依赖Wikidata的图像。

而是依赖于维基百科的图像，所以维基百科以两种格式发布自己的数据，维基媒体标记，也可以作为一个包含所有媒体资产的html预处理转储，称为缩放存档，所以我们可以拿着那个html，简单地处理它，寻找，嗯。

这里的图像，信息框中的图像，一旦我们有了，我们可以把图像拉出来，然后在存档中找到相应的图像资产，然后这就是我们渲染的，我们进一步把这个，因为你知道，这些图像往往相当大，我们的用户再次要求速度。

所以我们重新来过，我们重新采样，使其加载速度快得令人难以置信，拜托了，上一次或下一次，对不起，我们需要简明的总结，所以回去，如果你看看必应、谷歌和涅瓦的例子，你会看到总结都差不多，答案是。

我们都是从同一个地方得到的，这是维基百科的第一段，说每篇文章的第一段应该是一个简明的总结，就像第一句话是关于这个人或物是谁的论点，或者不管是什么，所以我们所需要做的就是在维基百科文章中找到第一段。

然后把它变成可用的东西，这就是我们所做的一切，我们发现第一段，我们去掉所有的发音指南，我们去掉脚注的上标，然后这就是我们学到的，现在我们的用户的另一件事，我们用我们的P零推出。

我们用这两个Pone推出了，然后我们的用户开始，呃，给我们很好的反馈，他们想要的第一个反馈是让我们有地图，实体中的城市和州，因为这是其他搜索引擎Wiki所做的，Wiki数据没有确切的地图。

维基数据会告诉我们，那个呃，地图的包围框，所以他们会说这里是北方，呃，西北坐标，这是包含这个区域的边界盒的东南坐标，但这还不足以，呃，为我们的用户，所以我们所做的是找到了另一个数据源，在本例中。

有一个名为OpenStreetMaps的数据集，这是一个开放源码，呃，我们可以称之为VERT的维基百科，模拟谷歌地图，它的数据库不仅包括城市和地图，诸如此类的东西，但它也包括形状。

这就是帕洛阿尔托的确切边界，这里是帕洛阿尔托的中心，它包括，呃，指向Wiki数据实体本身的指针，这很有帮助，我没必要做任何聪明的事情来匹配它，给了我一把主键，就在这里查，所以回去。

我们使我们的构建管道更加复杂，我们推嗯，当我们在构建管道中处理一个看起来可能需要边界的实体时，所以它是一个城市、一个州或一个国家，然后我们在OpenStreetMaps的副本中查找，呃，这个主键。

所以不管实体是什么，与之相关的，我们把这个，我们把它过滤掉，因为这个边界可能太复杂了，因为你知道这些形状可能会变得非常复杂，所以你需要缩短边界中的点数，这样你就可以快速渲染了。

然后这就是我们实际上存储在中间表示中的内容，所以现在我们完成了我们的p零，我们做了我们的p one，下一个就这样做了，是我们的二人组的时候了，就像所有好的项目一样，P 2是你无法理解的事情。

它们是你要做的事情，明年夏天实习生来的时候，他们大约两周后开始，所以我很兴奋，所以我们要做的第一件事是，我们将建立一个系统，从Wiki数据中侦听数据提要，它会告诉我们对维基数据的每一次编辑。

每当这种情况发生时，然后我们会异步，嗯，发布一个我以前描述过的所有事情的重新索引，因为我们已经有数据存储在“锡拉”中，我们不必批量，处理一切，我们可以用一种临时的方式来做这件事。

所以在一个名人去世的不幸事件中，我们可以看到该属性上的更新，我们可以把那个实体，将差异应用于它，然后重新呈现整个知识面板，嗯，这一点很重要的第一个案例是，呃，当值得注意的事情发生时，所以选举。

所以美国总统，当就职典礼发生时，您不希望它有陈旧的数据，因为它让你看起来很傻，在其他情况下，当有人去世时，这是我们的用户给我们关于过时的反馈的两个主要情况，成为一个问题，其次。

另一件非常棒的事情是有明确的Pivo，所以你可能会想象有人在寻找史蒂文，斯皮尔伯格电影，或阿拉巴马州知名人士名单，然后在其他搜索引擎上呈现在顶部，作为我们尚未构建的实体列表，这是一件我们可能可以，嗯。

预处理这些词汇，就决定我们要支持哪些，预处理存储它们，或者我们可以像以前一样，就像你刚才听到的那样，我们可以进行一些转换，接受用户的任何请求，将其转换为Sparkle查询，然后实时呈现，嗯。

我们还没决定要做哪一个，因为乐器在上面，所以这是我们所有劳动的成果，下面是查询，阿尔伯特·爱因斯坦在，在右手边，你可以看到我们的知识面板，我们要添加更多的图像，所以我们可以像其他花哨的搜索引擎一样。

但我认为这是一个很好的开始，我们有用户区域设置相关的日期呈现，我们有用户区域设置相关的单元呈现，我们有我们关心的显著属性，所以总结一下我们决定做的把戏是，为了满足我们的延迟要求。

我们把尽可能多的工作从服务时间转移到建设时间来做到这一点，我们使用了一个非常沉重的圆周率斯巴达工作来处理Wikidata，JSON不止一次地转储，以便获得我们需要的所有转换。

我们建立了一个斗志昂扬的工具，允许多个工程师工作，同时定义用于提取和构建表示层的程序，嗯，我们服务的东西出Silas，我之前描述的是一个键值查找，我们通过维基百科URL键入它。

现在我们没有做任何花哨的事情，我们只是在看维基百科结果的存在，在我们搜索结果的顶部，我们信任我们的搜索结果，所以如果我们看到维基百科，那么我们很有信心我们应该展示这个。

然后我们使用用户区域设置信息和其他任何事情来做最后一分钟，呃，为用户转换中间表示形式，最后我们使用了间隙和维基数据本身，比如说，图像的摘要，或者与政治边界，我们，呃。

我们使用其他数据集来尽可能地补充这一点，现在所有这些都是我们内部知识图的一部分，我们用这个知识图，不仅仅是知识面板，右手边的东西，但我们也用它来理解查询的自然语言。

所以当用户说我想要南卡罗来纳州查尔斯顿的天气时，我们或查尔斯顿，我们知道查尔斯顿很可能被解释为南卡罗来纳州的查尔斯顿，基于用户所在的位置，除其他外，所以是的，对我来说就是这样，呃，2。

如果有任何疑问拒打电话给我，我是NEA公司的内森，那不是错别字，如果你对ITA好奇，呃，你可以在neva。com阅读更多关于我们的信息，然后呃，像往常一样，我们在招聘。

感谢内森对你们正在做的知识面板的精彩概述，2。我发现有观众提出了一些问题，是呀，我想第一个是给你的，A是的，所以问题是同一组交互范例，也适合正确访问知识图，还是我们需要不同的交互方式。

我介绍的交互方法实际上是从读取访问中收集的，它们不是用来正确访问的，嗯，我还没有分析用户是如何更新知识图的，所以这将是一个单独的讨论，所以我可以在那里给你一些评论，呃在易趣。

我是一个面向外部的搜索引擎的一部分，在摩根大通，我们有内部运行的应用程序，所以我认为用户的集合是非常不同的，在eBay的案例中，对抗性很强，所以我们不得不用，你必须使用很多其他技术来更健壮的技术。

允许用户更改我们eBay知识图上的信息，比如社区，你在谷歌上看到的所有东西，等，我在摩根大通发现，用户非常值得信任，审查，每个人都登录了，嗯，他们是高价值的商业用户。

你实际上可以使用所有这些技术来帮助他们，允许他们实际更新我们知识图上的值，所以我在这两种不同的应用中看到了很大的对比，我是说，我想在eBay的情况下，他们都没有报酬对吧。

它们对互联网和摩根大通的人是免费的，他们可能是高薪的专业人士，是的，真实的，完全认证，如果你看到有人在做某事，我们很清楚那个人是谁，我们有一个完整的人力资源系统来采取行动，都是这样，非常。

非常安全地使用无对抗性的用例，但你想知道的是Neva使用的任何东西，从社区到纠正，帮助，纠正知识图什么的，所以我们刚刚，但我们实际上正在日内瓦建立一个社区工具，所以Neva不同于其他搜索引擎。

我们的用户总是登录，因为这是一个订阅服务，他们和我们有关系，他们总是因为这个而登录，我们有身份，我们的一些用户现在是值得信赖的用户，他们是我们社区计划的一部分，我们正在建立他们影响搜索结果的能力。

或建议编辑，所以我们不一定只是给推车启动然后说嘿，去编辑我们的知识图或去编辑我们的搜索结果，但他们能够提出修改，所以首先，第一种方法是给人们排除事物的能力，就像嘿，我发出了这个查询，这是错误的解释。

压制这个视频，或者压制这个，呃实体，我们实际上在建造相反的东西什么的，更深入，也就是，就可以，我们实际上接受修改建议，我们以知识面板的形式展示的，一旦我们接受了这一点，除了在我们这边应用它之外。

我们能不能把它推回维基数据本身，所以这就是我们的系统类型，我们在看这个夏天，所以内森，我们有一个问题要问你，对于较低的延迟要求，你提到很多数据是静态的，你怎么处理，呃，实时数据，比如突发新闻，等。

那些模块，呃，可悲的是，今天我们就像现在，我们不，嗯，所以在这个里面，在知名人士去世的情况下，这样会导致我们这边的尴尬，为了解决这个问题，我们将完全按照我说的去做，临时项目，我们将与维基数据出版。

对图形的编辑，我们将使用的特定编辑，就像一个优先考虑的，呃重新索引或再处理和重新索引，像人去世这样的事情，或者和日期有关的事情，似乎是显而易见的事情要优先考虑，还有一件事我忘了提。

在我们的博客文章中提到了这个知识图，我们有，做完这个之后，我们刚刚发现维基数据自己现在正在构建，不仅仅是知识图，而是一个表示层和一个流媒体服务，所以有可能当他们把它充实起来它就成了成熟的产品。

我很乐意扔掉所有这些代码，而是为他们的伟大服务付钱，总是最新的，所以答案是，我们今天什么也不做，但我们会和实习生做些什么，在某一点上到达这里，当有问题要问你的时候。

是否有一个从高级抽象可视化开始的用户体验示例，并帮助用户向下钻取，正如你伟大的演示和设计原则中所描述的那样，是啊，是啊，所以我认为地图搜索或公寓搜索的例子就是一个例子。

但我们首先在地图上看到所有这些选择，然后你可以往下钻，嗯，在谷歌地图中，那也是吗，对呀，你得到一个，您键入地址，你得到搜索，然后你可以放大，然后你就可以看到正确的街景。

谷歌谷歌地球界面就是一个很好的例子，我也认为Redfin和Zillow使用的东西非常相似，但在更高的水平上，他们只会向你展示，在各区域，然后当你往下钻的时候，他们会显示价格和其他东西，但在更高的水平上。

它们表明，尝试显示各个领域的统计数据，另一个问题给内森，你能评论一下你用来运行你的知识图的基础结构吗，所以我们探索了运行我们自己的图形数据库副本，但我们发现，对于我们的大多数用例来说。

做尽可能多的预处理更有益，只是关键值存储中的关键内容，因为一旦你在键值存储中键入了一些东西，如果您在值中有足够的数据，你可以追逐边缘，你可以做一个穷人的临时版本的图形数据库，因此。

我们倾向于使用Wiki Data Sparkle界面进行数据探索，来弄清楚我们可能想要使用哪些类型的转换，为了优化我们的用例，所以在知识面板用例中，我们把所有的东西都压平。

使用我刚才描述的所有东西来为地方进行身份识别，因此，我们有一个类似的管道，但它是专门为那个任务定制的，而不是担心表示层，它在担心事情，属性，如人口，你可以从维基百科获得的大小或受欢迎程度。

这些是我们可以用来偏见的属性，你知道的，用户在特定位置的条件可能性是指特定的名称，实体，嗯，我们不得不做所有这些把戏，因为你知道我们仍然没有一个庞大的用户群，你知道像谷歌或必应这样的公司，他们有。

你知道的，数以百万计的用户不断地给他们反馈，所以我们必须找到外部数据集，为了诱导这些，但到目前为止，我们发现在所有情况下都一样好，嗯，对于我们的用例，它们通常被限制在预处理所有事情的延迟。

并将其存储在任何一个Dynamodb中，我们首先或后来用scilla作为关键价值存储进行了实验，内森，我有个问题要问你，呃，您了解您的用户吗，我是说，他们为什么要来，就像，他们在找什么。

当他们键入搜索查询时，嗯我是说，这是所有搜索引擎的基本任务，是理解用户的意图，当他们发出查询时，为了做到这一点，您可以使用各种上下文，嗯，我们明白，呃，用户基于的位置，IP之类的东西或设备位置。

如果用户被授予，我们了解了一些关于用户以前与搜索引擎交互的历史信息，所以如果他们搜索很多呃，运动员相关的东西，那么你很可能知道下一个问题与体育有关，所以我们的目标是，因为搜索引擎是在经验中分配的。

那么我们实际上可以代表用户利用一些非常强大的个性化，所以为了做到这一点，我们开始建立系统，可以在上面进行某种形式的聚集，用户正在积累的属性，嗯，我们正处于这个问题的早期阶段，这是一种权衡。

如何以敏感的方式为用户做到这一点，你如何有效地做到这一点，给他们最好的结果，所以现在我们开始完全自动地做事情，我们能不能建立自动排名，就像协作过滤一样，然后我们把钟摆完全转向另一个方向。

我们现在有了陈述性陈述，用户可以表达他们的兴趣或他们信任的来源，现在我们把小齿轮向中间摆动，其中有一个用户的组合来表达他们的关系，他们感兴趣的东西，然后在此基础上有机器学习排名，谢谢。这里有个问题，嗯。

Neva最初考虑在知识图领域做什么，但被裁定过于雄心勃勃，你决定哪些应用程序在范围内了吗，等等，我有一个与此相关的问题，这是网上的一个嗯，等，我见过呃，知识图的应用只是遍历，就像你看到的，呃，这个窗格。

然后你可以不停地点击和跳跃，还有什么可以实现的吗，作为嗯，就像在任何，在任何数据库什么的，你在网上见过更复杂的知识图应用吗，比如说，最短光盘帮助您找到最短路径，或者像LinkedIn这样的东西，或者嗯。

嗯，一百年前在脸书脸书，用来告诉你你和任何你看到的人之间的最短路径，这是他们Facebook主要面向学生的时候，所以你可以在你的班上找到一个人，找到你和那个人的邻居，看看他们的关系。

但实际上我还没有遇到太多你们所说的应用程序，主要是因为最短路径是，你知道这是一个n平方的算法，对所有的对来说都是很大的，所以对于大多数用例来说，它太大了，嗯，会很有趣的，我现在还没有碰到，另一个问题是。

嗯，我们是怎么决定不这样做的，当我第一次开始做这个的时候，我就像嗯，你知道，当我在构建这些知识面板的时候，就像，让我们只拍摄月球，让我们也建立一个问答系统，让我们继续建造这些，就像嗯。

所有这些枢轴顶部的旋转木马，这个过程进行了大约三个小时我就像个男人，这工作太多了，因为我一开始希望把东西加载到图形数据库中，我们在当地服务，然后把所有东西都变成一堆闪闪发光的查询。

然后用户使用结构化查询处理，或者在自然语言处理中，我们将能够做这些事情，但事实证明，这将是一个太多的工程努力，考虑到我们有时间，嗯，所以希望，呃，所有这些都将在21年的某个时候发生，二十一，让我们。

让我们雄心勃勃，谢谢。所以说，当我们都问完问题后，是啊，是啊，所以我想在派对上，是啊，是啊，我有个问题要问内森，嗯，i，我对你的饮食和节日的例子很感兴趣，然后嗯，你知道，我的一部分在说，哇哦。

这真的很酷，因为这说明了，在知识图中，只要你知道，您可以遍历一些链接，你可以计算正确的东西，因为你知道链接意味着什么，但另一方面，我的NLP朋友会说，甚至我的一些数据科学数据库人们可能会说，你知道的。

为什么要使用Wiki数据，我相信您可以找到一个不同的数据集，其中显式地存在这种联系，或者NLP的人会说，你知道我们可以通过提取来解决这个问题，对呀，所以我的意思是，这是你用了一个糟糕的知识图技术。

你对此有何回应，所以事实上，在前世，我在谷歌做过一个类似的项目，嗯，我们在做自然语言，如果我们通过专门处理自然语言文本来构建知识图，我正在构建从文本中提取超尼姆，就像黛安·范斯坦是参议员一样。

不一定是加州参议员，我学到的是自然语言处理，自然语言理解是一个令人震惊的难题，容易出现很多错误的，主要的错误是，呃，不仅有技术问题，但现在你有一个理解数据有效性的问题。

维基百科的伟大之处在于有一个活跃的编辑社区，他们正在执行一套关于数据质量的指导方针，当您刚刚在Web上阅读非结构化文本时，只是博客，因此，你可能会得到一些非常奇怪的断言，嗯。

一个特别的例子是当我在谷歌做这个项目的时候，就是那个，可悲的是，现在，这就是当您处理，二千一十二一年的网络，或者不管是什么，你知道，它是，它的时代精神，我们正在处理的网络的特定部分，所以没有，有。

建造起来要困难得多，某种本体论推理类型的东西在上面，你可以进去，你可以用谷歌的知识做非常复杂的事情，它试图将这些数据具体化到现有的知识图中，到现有模式中。

但这是一个非常非常困难的问题涉及到几十到数百名工程师，考虑到我们的限制，我们决定你知道什么是现成的足够好，所以这正是我们所做的，那么关于你找不到更好的数据集的批评呢，它直接策划了丹·范斯坦是加州参议员。

总是乐于获取更多的数据集，就像我，也是你知道的，我不知道我不知道什么，我从我所知道的开始，那是维基数据、维基百科和DBpedia，很有可能还有其他数据集，嗯，正如我们在开放街道地图上看到的，然后呃。

我们正在导入一些其他数据集，我们对导入的数据集非常有策略，只要我们能找到连接键，例如，我们也，嗯嗯，嗯有喜欢的电影，表演时间，或者我们有，嗯，在那里你可以观看或流媒体特定的电视节目，只要我们能在我们的。

我们的内部知识图和这些其他数据集，然后我们可以查这些东西，所以我们在做，我们正在为所有这些事情建立点解决方案，目标，梦想是对一切都有一个普遍的解决方案，但你知道，只是交易往往更容易。

UM为世界工程努力提供十点解决方案，好的，所以我们快下课了，呃，任何最后的话，我只想说，再次感谢，感谢大家让我，是啊，是啊，然后呃，我可以宣布我们下周的会议，呃，下周我们将，嗯不是。

下个星期四我们有两位演讲者，呃，鲍勃·科瓦尔斯基，他将告诉我们一个结构化的查询接口，呃，基于逻辑英语，我们会有永永道治安康，谁会告诉我们如何提出自然语言问题，呃，知识图，所以这应该是一个非常有趣的讨论。

它们将在两种方法之间形成鲜明对比，所以我们期待着星期四见到你。

![](img/bd5e676fe737aacf1a8324261336d577_2.png)

谢谢，再见。