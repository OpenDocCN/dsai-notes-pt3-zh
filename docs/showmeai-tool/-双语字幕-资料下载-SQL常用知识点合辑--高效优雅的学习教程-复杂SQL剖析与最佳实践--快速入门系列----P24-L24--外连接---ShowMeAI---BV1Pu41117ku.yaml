- en: ã€åŒè¯­å­—å¹•+èµ„æ–™ä¸‹è½½ã€‘SQLå¸¸ç”¨çŸ¥è¯†ç‚¹åˆè¾‘â€”â€”é«˜æ•ˆä¼˜é›…çš„å­¦ä¹ æ•™ç¨‹ï¼Œå¤æ‚SQLå‰–æä¸æœ€ä½³å®è·µï¼ï¼œå¿«é€Ÿå…¥é—¨ç³»åˆ—ï¼ - P24ï¼šL24- å¤–è¿æ¥ - ShowMeAI
    - BV1Pu41117ku
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![](img/f8df46f601a08cab13c11a5e4f1fe4d4_0.png)'
  prefs: []
  type: TYPE_IMG
- en: å“¦ã€‚Earlier in this section I told you that in SQL we have two types of joinsã€‚
    inner joins and outer joins now so far you have only seen examples of inner joins
    and I also told you that this inner keyword is optional so whenever you type out
    a join you're using an inner join in this tutorial we're going to look at outer
    joins and the problems they solveã€‚
  prefs: []
  type: TYPE_NORMAL
- en: ğŸ˜Šï¼ŒSo let's start by writing a query that uses an inner joinã€‚ and then we'll
    convert that inner join to an aler joinã€‚ So selectã€‚ğŸ˜Šã€‚Everything from the customer's
    tableã€‚Join it with the orders tableã€‚On C that customer ID should be equal to O
    that customer IDã€‚Pretty basicï¼Œ rightï¼ŸğŸ˜Šï¼ŒNowï¼Œ for clarityã€‚
  prefs: []
  type: TYPE_NORMAL
- en: let's pick a few columns from these two tablesã€‚ So from the customer's tableã€‚
    I want to pick customer I Dã€‚And first nameã€‚And from the order tableï¼Œ I want to
    pick order IDã€‚ğŸ˜Šã€‚Now finallyï¼Œ let's sort the result so we can clearly see what
    we get so order by C customer IDã€‚ğŸ˜Šã€‚Let's execute this query and see what we getã€‚So
    here's the resultã€‚
  prefs: []
  type: TYPE_NORMAL
- en: For customer number two called InNs or Inusï¼Œ whateverï¼Œ we have two ordersï¼Œ order
    4 and order 7ã€‚Similarly for customer number fiveï¼Œ we have two orders and so onã€‚Now
    there is something missing in this resultã€‚ We only see customers who have an order
    in our systemã€‚ These are customers 2ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8 and 10ã€‚ but if you look at the customers
    tableã€‚
  prefs: []
  type: TYPE_NORMAL
- en: you can see that we have other customers like customer number oneï¼Œ customer
    number3 and so onã€‚Now currently we don't have any orders for these customersã€‚
    and that's the reason we don't see them in this result setã€‚ But what if you want
    to see all the customersï¼Œ whether they have an order or notã€‚
  prefs: []
  type: TYPE_NORMAL
- en: that's when we use an al joinï¼Œ let me show you how that worksã€‚ So back to our
    queryã€‚ğŸ˜Šã€‚The reason we only saw customers who have an order was because of this
    join condition when joining these two tablesã€‚ we are only returning records that
    match this conditionã€‚So for a given customerã€‚ if we do have an orderã€‚ğŸ˜Šï¼ŒThat record
    is returnedã€‚ But as you saw a second agoã€‚
  prefs: []
  type: TYPE_NORMAL
- en: some of our customers don't have an orderã€‚ So for those customersï¼Œ this condition
    is not validã€‚ and that is the reason they' are not returned in the result set
    to solve this problemã€‚ We use an outer joinã€‚ Now in SQLï¼Œ we have two types of
    outer jointsã€‚ We have left joints and right jointsã€‚When we use a left joinã€‚
  prefs: []
  type: TYPE_NORMAL
- en: all the records from the left table in this caseï¼Œ customers are returned whether
    this condition is true or notã€‚ so we get all the customers and if they do have
    an orderï¼Œ we'll see the order I as wellã€‚ Let's execute this query and see what
    we getã€‚ğŸ˜Šï¼ŒSoã€‚There you goã€‚ customer number one doesn't have an orderï¼Œ and that's
    why we get null in this cellã€‚ğŸ˜Šã€‚
  prefs: []
  type: TYPE_NORMAL
- en: Customer number two has two ordersï¼Œ4 and 7ã€‚ customer number 3 also doesn't have
    an orderã€‚ so we have null for order Iã€‚This is the result of a left jointã€‚So back
    to our queryã€‚ when we use a left joinï¼Œ all the records from the left table are
    returnedã€‚ whether this condition is true or notã€‚Nowï¼Œ what if we use a right joinï¼ŸğŸ˜¡ï¼ŒIn
    this caseã€‚
  prefs: []
  type: TYPE_NORMAL
- en: all the records from the orders table are returnedï¼Œ whether this condition is
    true or notã€‚ let's execute this query and see what we getã€‚Soã€‚We get the same result
    as before when we use an inner join because we are selecting all the records from
    the right tableã€‚
  prefs: []
  type: TYPE_NORMAL
- en: which is the orders table so we don't see all the customersã€‚ we see all the
    orders right now if you want to use a right join and still see all the customersã€‚
    you need to swap the order of these tables soã€‚ğŸ˜Šï¼ŒWe put the orders table firstã€‚
    That's going to be our left tableï¼Œ and then we put the customers on the right
    sideã€‚
  prefs: []
  type: TYPE_NORMAL
- en: So now with this queryï¼Œ we'll return all the records from the right tableã€‚ which
    is the customers tableã€‚Let we execute thisï¼Œ we gotã€‚All the customersã€‚ whether
    they have an order or notï¼Œ beautifulã€‚Nowï¼Œ one last thing before we finish this
    tutorialã€‚ I've seen developers use the outer keyword hereï¼Œ so either right outer
    join or left outer joinã€‚
  prefs: []
  type: TYPE_NORMAL
- en: but technically the outer keyword is optional just like the inner keywordã€‚ so
    you don't have to type it outã€‚ğŸ˜Šï¼ŒSo I'm going to remove this to make my code shorter
    and easier to understandã€‚ so to recapï¼Œ if you use the join keywordï¼Œ you're doing
    an inner join and if you do a left or right joinã€‚ you're doing an outer joinã€‚ğŸ˜Šï¼ŒHere's
    our exercise for this tutorialã€‚
  prefs: []
  type: TYPE_NORMAL
- en: I want you to write a query that produces this resultã€‚ So we have three columns
    hereã€‚ product I name and quantity that I picked from the order items tableã€‚ So
    here we need to join the product table with order items tableã€‚ so we can see how
    many times each product is orderedã€‚ Howeverã€‚
  prefs: []
  type: TYPE_NORMAL
- en: if we do an inner join we'll only see the products that have been orderedã€‚ But
    here I'm doing an outer join soã€‚ğŸ˜Šï¼ŒProduct number7 has never been orderedã€‚ but
    it still exists in the result we sit now for the quantityã€‚So go ahead and write
    an outer join to produce this resultã€‚
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f8df46f601a08cab13c11a5e4f1fe4d4_2.png)'
  prefs: []
  type: TYPE_IMG
- en: '![](img/f8df46f601a08cab13c11a5e4f1fe4d4_3.png)'
  prefs: []
  type: TYPE_IMG
- en: All rightï¼Œ first we select everything from the product tableã€‚ğŸ˜Šã€‚And then to a
    left join with the order items tableã€‚Our joint condition is P that product ID
    equals Oi that product IDã€‚So because we're using a left joinï¼Œ we'll get all the
    products in the product tableã€‚
  prefs: []
  type: TYPE_NORMAL
- en: whether this condition is true or notã€‚ğŸ˜Šï¼ŒIf they have never been orderedã€‚ we'll
    still see them in the resultã€‚Now let's pick a few columns for clarityï¼Œ so Pã€‚ product
    IDã€‚P dot name and Oi dot quantityã€‚That's itã€‚ Let's execute the queryã€‚ We get the
    same result as beforeã€‚ so all the products are here and product number7 has never
    been orderedã€‚
  prefs: []
  type: TYPE_NORMAL
- en: so we see null for the quantityã€‚ğŸ˜Šã€‚![](img/f8df46f601a08cab13c11a5e4f1fe4d4_5.png)
  prefs: []
  type: TYPE_NORMAL
- en: Yeahã€‚![](img/f8df46f601a08cab13c11a5e4f1fe4d4_7.png)
  prefs: []
  type: TYPE_NORMAL
