- en: „ÄêÂèåËØ≠Â≠óÂπï+ËµÑÊñô‰∏ãËΩΩ„ÄëOpenCV Âü∫Á°ÄÊïôÁ®ãÔºåÂÆâË£Ö„ÄÅÂéüÁêÜ„ÄÅÂÆûÊàòÔºå 3Â∞èÊó∂Â∏¶‰Ω†ÊêûÂÆöËøô‰∏™ÁÉ≠Èó®ËÆ°ÁÆóÊú∫ËßÜËßâÂ∑•ÂÖ∑Â∫ìÔºÅÔºúÂÆûÊàòÊïôÁ®ãÁ≥ªÂàóÔºû - P14ÔºöÈ°πÁõÆ2ÔºöÊñáÊ°£Êâ´ÊèèÂô®
    - ShowMeAI - BV1zL411377L
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![](img/04f37d9e927ad86517b1e6fa084d48b2_0.png)'
  prefs: []
  type: TYPE_IMG
- en: '![](img/04f37d9e927ad86517b1e6fa084d48b2_1.png)'
  prefs: []
  type: TYPE_IMG
- en: '![](img/04f37d9e927ad86517b1e6fa084d48b2_2.png)'
  prefs: []
  type: TYPE_IMG
- en: So in this projectÔºå we are going to start off with the webcam code„ÄÇ which we
    did in the first chapterÔºå so let me go and copy this„ÄÇAnd let's change the parameters„ÄÇ
    We willll do it as oneÔºå and this will be 50„ÄÇSoÔºå let's run it„ÄÇAnd there we have
    our webcam„ÄÇ so we are going to detect this document and then we are going to use
    Word perspective to get the flat out image of our documents„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: which we will scan„ÄÇNow„ÄÇLet's move on„ÄÇ So the first thing we are going to do
    is„ÄÇWe are going to pre processces our imageÔºå so we will apply some what you call
    preprocessing techniques so we can detect what you call the edges in our image
    properly„ÄÇSo let's define a function„ÄÇ3e„ÄÇProcessing„ÄÇAnd here we are going to input
    an image„ÄÇ so we will say imageÔºå and then we are going to convert this image„ÄÇ first
    of all„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: we will resize it so image„ÄÇIs equals to C2 dot re size„ÄÇOr let's resize it„ÄÇOver
    here„ÄÇSo that the size remains the same for„ÄÇThe holder processÔºå so re sizeize„ÄÇAnd
    we are going to resize our original image„ÄÇWith our width and heightÔºå So width„ÄÇOf
    our image and height„ÄÇOf our image„ÄÇSo thisÔºå we can declare„ÄÇOn the top„ÄÇÂóØ„ÄÇThat's„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Create a new section here„ÄÇClarations„ÄÇ2Ôºå6Ôºå40„ÄÇAnd this one here is48„ÄÇSo let's
    remove that„ÄÇThis„ÄÇSo that being done„ÄÇOkayÔºå soÔºå so the first thing we will do is
    we will convert it into gray scale„ÄÇ So we will say image gray is equals to„ÄÇCV2
    dotsÔºå CT colorÔºå and then our sourceÔºå our main image„ÄÇ and then we want to convert
    it into grayscale„ÄÇ So C 2 dots„ÄÇColorÔºå P GÔºåR to gray„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Next we are going to apply some blurÔºå so image blur is equals to cv2„ÄÇ was in
    blur„ÄÇ and we have our image query to blur and then we will apply we will give
    the size of the kernel 5 by 5 and then the sigma x„ÄÇ let's say1„ÄÇAnd thenÔºå we will„ÄÇFind
    our edges using our canny edge detector„ÄÇ So we will say image canny„ÄÇIs equals
    to„ÄÇCV2 dots„ÄÇGny„ÄÇAnd our image is blur„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And then we have the threshold„ÄÇ So we'll put„ÄÇLet's say 200 by 200 so these values
    we can change as we move along„ÄÇ but for now we are going to keep some random values
    and let's see how they go„ÄÇOnce we have done thatÔºå sometimes the edges are very
    thin„ÄÇ so what we can do is we can use the dilation function to make them thicker
    and then we can use the erosion function to make it a little bit thinner again„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: so what we can do is we can apply two passes of dilation and one pass off what
    we call erosion„ÄÇNow„ÄÇ this is not compulsoryÔºå but it helpsÔºå so it is better to
    do it„ÄÇDilation is equals to C2 dot dilates„ÄÇTateÔºå yeahÔºå and then we are going to
    use our image canny„ÄÇAnd we are going to define a kernel„ÄÇAnd thenÔºå the iteration„ÄÇD„ÄÇRations
    is equals 2„ÄÇ2„ÄÇSo„ÄÇThere is a mistake somewhere„ÄÇOkayÔºå so kernelel„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Is equals to we are going to define an array of a matrix of„ÄÇAtOnceÔºå so we need
    to define here„ÄÇThe port Nmpy has N P„ÄÇAnd over hereÔºå we are going to say that our
    kernelel is nuumpy of once„ÄÇAnd the size is five by5„ÄÇThen we are going to erode
    it„ÄÇ So image„ÄÇEode„ÄÇIs equals to C 2„ÄÇActually„ÄÇ this is the final result„ÄÇ So let's
    call it threshold image„ÄÇTre„ÄÇIs equals to C2 dot ero„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And then we are going to input our image dilation„ÄÇAnd then we are going to define
    our kernel and the iterations as one„ÄÇSo once we process that„ÄÇWe can return our
    image„ÄÇIt turned„ÄÇImage„ÄÇTial„ÄÇSo we can see here„ÄÇÂóØ„ÄÇImage threshold is equals to„ÄÇReprocess
    of our main image„ÄÇSo we can display the image„ÄÇAnd there we go„ÄÇ So we are getting„ÄÇ
    So if we wanted to see the what you call the output of each of these steps„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: we can simply„ÄÇWhat you call commented out and return the one we want to see„ÄÇ
    For example„ÄÇ if we want to remove these twoÔºå we can comment it out and return
    the canny instead„ÄÇSo if we look at that„ÄÇSo here you can see our edges are quite
    1„ÄÇAnd sometimes when there is some shadow or some reflectionsÔºå then it might not
    detect properly„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: That's why we are adding this„ÄÇHereÔºå as well„ÄÇSo we need to return„ÄÇThe threshold„ÄÇAnd
    there you go„ÄÇ So the boundaries are much thicker and easier to detect what is
    happening in the image„ÄÇ So next„ÄÇ we are going to move on to our contours„ÄÇSo we
    need to find the biggest contour in our image„ÄÇ So this is what we will do now„ÄÇ
    So in chapter 8„ÄÇFor the contoursÔºå we use the functionÔºå get contours„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we are going to copy that„ÄÇTill our bounding box„ÄÇAnd we will make some changes„ÄÇSo
    here we'll paste it out and now we have the get contour function„ÄÇSo what we can
    do is we need to find the biggest one that is available to us So here we are first
    getting our contours and then for each of them we are looping again and again
    So what we can say is that first of all we need to give a threshold for the area„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: I think it's better to add another zero because our area will be quite big„ÄÇ
    we can remove the print and to drawÔºå we can copy an image here„ÄÇSo we can say„ÄÇImageÔºå
    let's say„ÄÇContours„ÄÇLet's write„ÄÇ contours is equals  to„ÄÇImage dot copy„ÄÇActually„ÄÇ
    we should do it after the resizeÔºå cause all of them are„ÄÇAll of them should be
    same„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So let's go down and then we'll write the tear and„ÄÇThenÔºå here will paste„ÄÇHere
    we will paste our image contour„ÄÇActuallyÔºå let's use this spelling„ÄÇ It's better„ÄÇHowÊ≤°
    control„ÄÇSo„ÄÇ we can„ÄÇDisplay out what is happening„ÄÇSo then we will remove this parameter
    and we don't need to see the length„ÄÇ Do we need to see the lengthÔºå YesÔºå we do
    need to see the length and it should be4„ÄÇAnd then„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Do we need the mounting boxÔºå YesÔºå OkayÔºå so what we are going to do is firstÔºå
    we are getting our area„ÄÇAnd then we are checking that if it is greater than 5000Ôºå
    if it's good„ÄÇ then we will move on to the next stepÔºå we will draw it„ÄÇOn our image
    or do we need to draw„ÄÇ we will see if we need to remove it later„ÄÇ Now we will
    get our parameter„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: and then we are going to find our approximation of our corner points„ÄÇ and then
    we have to say that„ÄÇIf our„ÄÇArea„ÄÇNot sorry„ÄÇ if our length„ÄÇOf our„ÄÇProxiation is
    equals to 4„ÄÇIn that case„ÄÇ what we will do is„ÄÇWe will say that the biggest„ÄÇIs equals
    to a pro„ÄÇAnd but as it loops„ÄÇWe need to find the biggest one„ÄÇ So we have to put
    another condition here„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: We will say that if our area„ÄÇIs greater than„ÄÇThe max area„ÄÇSo we'll put an end
    here„ÄÇSo„ÄÇ we'll put an hand here„ÄÇAnd then here we will see that max area„ÄÇIs equals
    to our current area„ÄÇSo what this will do is it will keep looping again and again
    and whenever it finds a value that is bigger than what it has before„ÄÇ it will
    replace the value of the current one„ÄÇSo this will give us the biggest„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Area and the biggest of our approximationÔºå which will be our four points„ÄÇSo
    do we need this„ÄÇ not reallyÔºå so we can remove this with the bounding box„ÄÇAnd„ÄÇThen
    all we need to do is we need to return our„ÄÇApproximationÔºå so we will return„ÄÇApprox„ÄÇOhÔºå
    sorry„ÄÇ we will return the biggest one„ÄÇBiggest„ÄÇ so this will give us our biggest
    contour„ÄÇOkay„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: so let's run that and see what happens„ÄÇNow we need to call it here„ÄÇWe are going
    to say that„ÄÇGet contours and we will send the image threshold„ÄÇOkay„ÄÇ so one thing
    that we forgot to do is to define„ÄÇInitiallyÔºå our variables„ÄÇ So the first one is
    a list„ÄÇ So the biggest„ÄÇWill be a Ny listÔºå a Ny arrayÔºå nuy„ÄÇ array„ÄÇAnd„ÄÇThe second
    one is the max area„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we will say max„ÄÇArea is equals20„ÄÇSo if we run that again„ÄÇAnd there you go„ÄÇSo
    now we are getting our contours and hopefully it is returning us the biggest one„ÄÇ
    which is this blue one„ÄÇSo once we have our biggest contour„ÄÇ what we need to do
    next is using its corner points„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: we need to warp our image and get the bird's eye view„ÄÇ So in order to do thatÔºå
    what we will do is„ÄÇWe willÔºå first of allÔºå get our approximation here so we can
    say that our biggest is equals to get contours image threshold„ÄÇ And then after
    thatÔºå what we need to do is„ÄÇWe need to send it for word perspective„ÄÇ so we will
    write a new function„ÄÇSoÔºå we will say„ÄÇGet„ÄÇIt worked„ÄÇAnd inside„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: we are going to send our image„ÄÇAnd we are going to send what do we need to send„ÄÇ
    We need to send our biggest„ÄÇContour point„ÄÇSoÔºå here„ÄÇWe can call this function get
    verp of our original imageÔºå and we need based on the biggest points„ÄÇSo actuallyÔºå
    we didn't print out„ÄÇ Let's see if we are getting it properly„ÄÇSo let's just print
    out„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Once we are getting the biggest oneÔºå let's print it out„ÄÇSo there we go„ÄÇ We are
    getting four points„ÄÇ so one„ÄÇ2Ôºå threeÔºå and four„ÄÇ so we are getting them properly„ÄÇSo
    whether they are the correct one or notÔºå we will look into that furthermore„ÄÇOr„ÄÇÂóØ„ÄÇWe
    can print it out right now„ÄÇ Should we print out right now„ÄÇYeahÔºå actuallyÔºå we can„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: What we can do is instead of printing them all„ÄÇWe can„ÄÇCopy this„ÄÇ And we can„ÄÇComment
    this out and„ÄÇThe last one we can do„ÄÇIs we can print out the biggest one before
    it sends so we can say here biggest„ÄÇAnd there you goÔºåIf we look at it„ÄÇLet me increase
    that size„ÄÇ Let's make it 20„ÄÇSo there you go„ÄÇ So we are getting the correct points
    of our biggest contourÔºå so the next part will be to verp„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So now we are going to work„ÄÇWhere is that functionÔºå so okay„ÄÇSo in the workp„ÄÇ
    we are going to follow what we have done before in our previous examples that
    was in chapter for the warping„ÄÇ so here we have for warping we need two points
    and then we create a metrics and then we get our work perspective so we will copy
    all of that„ÄÇAnd we will bring it into our current project„ÄÇSo we need to find out
    these points1 and then these points2„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And then we create the metrics„ÄÇ And based on thatÔºå we have the width and the
    height„ÄÇ So this width and height are basically the width and height of our image„ÄÇ
    So we will say„ÄÇWith the image and„ÄÇHight imageÔºå againÔºå width image„ÄÇAnd height image„ÄÇAnd
    then„ÄÇWhat image„ÄÇAnd then„ÄÇ high damage„ÄÇOkayÔºå we can remove the bass„ÄÇOkayÔºå so the
    next step would be to put our points here„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we are getting our biggest contour„ÄÇ and all we need to do is we need to inputs„ÄÇThe
    biggest contours over hereÔºå so there are already four points„ÄÇ so that way we can
    easily put it directly over here„ÄÇNow the next thing is fine over here„ÄÇSo what
    we need to do is we need to look at our image and there is a tricky part here„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: and I will explain what that isÔºå but just let's just look at our output image
    so we can say here„ÄÇThat return„ÄÇOur image„ÄÇOutputs„ÄÇAnd here„ÄÇWe can call this function„ÄÇ
    We can say get workb„ÄÇ and then we can save„ÄÇThat our„ÄÇPp„ÄÇImage worked„ÄÇÊ≤°„ÄÇWorb is
    equals to that„ÄÇAnd let's show that„ÄÇSo there we go„ÄÇ„Åù„ÄÇNow we knew that our points
    are being detected properlyÔºå but as you can see here„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: the warping is not correct„ÄÇAnd if I move it around and it even gives us an error„ÄÇSo
    the reason why the warping is wrong is because we have an annotation we have a
    structure at which our point should be„ÄÇ so the first point in our biggest contour
    should be00 and then width0 then0 height and then width and height if for example
    in the biggest contour our width and height is in the first one and the00 in the
    second one or it's mixed up then it means that our word perspective will not properly
    work„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So what we need to make sure of is that when we are sending the points to verp„ÄÇ
    all of our points are aligned like thisÔºå so the smallest one should be the first
    one then the width and height the width and0 then the0 and height and then the
    width and the height so how can we make sure of that because our values can vary„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: It can keep changing„ÄÇ So what I'm trying to tell is that these values can change
    based on the angle of the paper and„ÄÇBased on the contour as well„ÄÇ So what we have
    to do is we have to arrange these values„ÄÇ these biggest points before we send
    it for warping„ÄÇ So we have to reorder them„ÄÇ so we will create a new function„ÄÇWe
    will sayÔºå re order„ÄÇAnd inside thatÔºå we will need our points„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So my points„ÄÇWe need some points insideÔºå and then we are going to apply some
    methodology inside here that will allow us to create or reorder our points„ÄÇ So
    if we haveÔºå for example„ÄÇLet me make it a little bit simpler if you want this now„ÄÇWait„ÄÇ„ÅØ„ÅÑ„Åü„ÄÇ„ÅÜ„ÄÇIf
    we add these values upÔºå what we can do is we can add these values up and we can
    find the smallest and the biggest point„ÄÇSo for exampleÔºå if we add 00 and we add
    width and heightÔºå width and 0„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: 0 and height and width and heightÔºå the smallest point will be the00 and the
    biggest point will be width and height„ÄÇSo this means that whatever points we are
    given hereÔºå if we add all of them up„ÄÇThe smallest one we will get will be our
    00„ÄÇAnd the biggest one we will get will be our width height so this way we can
    quickly sort out which one is the biggest and which one is the smallest so which
    one is the origin and which one is the diagonal point of our corner of our rectangle
    or the last point„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And then to find the width0 and the0 heightÔºå we can subtract them and one of
    them will give us a positive value and one of them will give us a negative value
    and based on that we can tell which one comes first and which one comes second„ÄÇSo
    what we need to do is„ÄÇWe need to firstÔºå let me show you something before we go
    ahead„ÄÇÂóØ„ÄÇHere„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So if we look at the shape of our what called array or the matrix„ÄÇOf biggest„ÄÇ
    Let's have a look at that„ÄÇSo it is four by one by two„ÄÇSo we have four different
    points that we understand and for each point we have X and Y that we understand
    as well„ÄÇ but that one is redundantÔºå so what we will do is we will remove that
    one„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So when we are about to reorderÔºå the first thing we will do is we will say my
    points„ÄÇIs equals to my points„ÄÇDot reshape„ÄÇAnd we are going to writeÔºå we want to
    reshape it as4 by2„ÄÇAnd then we are going to create a new matrix that we will send
    outside that we will return from this function and that„ÄÇMattrix should be the
    same as what we are receiving over hereÔºå which is 4 by one by2„ÄÇOkay„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: so we will write my points„ÄÇ nuon is equals to nuier dot zeros„ÄÇZeros„ÄÇ And then
    we can say„ÄÇ4 by„ÄÇ1 by2„ÄÇAnd then we can write its typeÔºå so nuy dot„ÄÇInteger 32„ÄÇSo
    the first thing we will do is we will add„ÄÇAs we have discussedÔºå we will add all
    of these values„ÄÇ So insideÔºå we have four points„ÄÇLet me print this out„ÄÇ So it's
    easier to see„ÄÇ We will print biggest„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So the first step we are going to do is we are going to add each one of them„ÄÇ
    So 1Ôºå85 plus 55„ÄÇ then 61 plus 279 and so on„ÄÇ So in order to do thatÔºå we have a
    easy function„ÄÇ we can say add is equals to my points„ÄÇDot sum„ÄÇAnd we are going
    to use A 1„ÄÇSo this will give us„ÄÇ let's print it outÔºå and we can say„ÄÇOur ad„ÄÇIs„ÄÇWe
    are not sending it to reorder„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: That's why it's not showing up„ÄÇ So what we can do„ÄÇIs we can„ÄÇRight here„ÄÇOr this
    should be inside the verp„ÄÇSo we can write here„ÄÇRe order„ÄÇAnd we can send the biggest
    points„ÄÇSo if we stop thatÔºå we can see that over hereÔºå 183 plus 55 is 238 and then
    61 plus 279 is 340 and then so on we are getting„ÄÇOur values„ÄÇ So the smallest one
    here is our first one„ÄÇ So we are going to say that is our 00„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: and the biggest one here is 651„ÄÇ And we are going to say that is our word and
    height„ÄÇ So this one is at the correct position„ÄÇ It should be at 00„ÄÇBut this one
    is at the wrong position„ÄÇ This should be the last one„ÄÇ So we are going to rearrange
    our order in our new points„ÄÇSo we will say here that my points„ÄÇNew„ÄÇAt number0Ôºå
    which will be the first one„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: is equals to my points„ÄÇAnd we are going to get the index„ÄÇ So we are going toÔºå
    first of all„ÄÇ find the smallest one„ÄÇ So we will say that nuy dots„ÄÇA RG minimum„ÄÇAnd
    we are going to say that find the smallest one„ÄÇThe index of the smallest of this
    list„ÄÇOr of this matrix„ÄÇ So here we are going to find the smallest value and we
    are going to get its index„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: once we have its indexÔºå we are going to put it here„ÄÇ And from that we are getting
    the values„ÄÇ the actual x and y and then we are storing it in our new point„ÄÇ The
    same thing we will do it for the biggest one which will be the last one as0Ôºå1Ôºå2Ôºå3„ÄÇ
    and this time around we will write it as max„ÄÇSo if we run that„ÄÇLet me print that
    out„ÄÇBrent„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: New points„ÄÇAnd we can write„ÄÇÂâç„Å´„Éù„ÄÇSo if we print that„ÄÇSo here we can see that
    our new points now the smallest one is at the first point and the biggest one
    is at the last point here„ÄÇ So now we need to find the ones in the middle„ÄÇSo„ÄÇNextÔºå
    we are going to„ÄÇ we can remove or let„ÄÇ let's keep them for now„ÄÇ So nextÔºå we are
    going to find the difference between them„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we can say the difference is equals to nuy dots„ÄÇDifferenceÔºå and we are going
    to use my points„ÄÇAnd againÔºå we are going to define our axis as one„ÄÇActuallyÔºå let
    me write it„ÄÇ you can define it like this x's as one„ÄÇSo then based on thisÔºå we
    are going to say that my points„ÄÇThe new ones at number one„ÄÇIs equal to this should
    be our width and0„ÄÇSo this one will be my points„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: At Nai dots„ÄÇThe minimum argument„ÄÇOf our differentiation„ÄÇAnd the same way„ÄÇLet
    me right here„ÄÇThe same weight„ÄÇThe second one will be the maximum of our argument„ÄÇSo
    let's run that„ÄÇ Okay„ÄÇ let me print this out„ÄÇBut„ÄÇAt the bottom„ÄÇ OkayÔºå if we run
    that„ÄÇAnd we stop it„ÄÇ So now you can see that our points are rearrangedÔºå so we
    are getting width„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And then0 and then0 and then height by 0Ôºå I mean it's a lower value„ÄÇSo„ÄÇHere
    our points are rearranged„ÄÇ You can see our original points are like this„ÄÇAnd then
    our arrange points are like this„ÄÇSo now we have our new point so we can send them
    back„ÄÇ So should I delete„ÄÇ OkayÔºå let me„ÄÇPut it as a comment„ÄÇ So if you want to
    checkÔºå you can check it„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: and then we can write return„ÄÇMy pointÔºå new„ÄÇSoÔºå this will„ÄÇGive us the biggest
    points rearranged„ÄÇ So we will say that biggest is equals to reorder„ÄÇBiggest„ÄÇ so
    if we're run this now„ÄÇ hopefully it will come up properly„ÄÇ And there you go„ÄÇ So
    our image is showing properly„ÄÇ and we are getting our word perspective„ÄÇ the image
    has worked„ÄÇ Now„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: the problem is that one thing is that the width is too much„ÄÇ We need to reduce
    it„ÄÇLet's make it 360„ÄÇOkayÔºå the camera cannot beÔºå so 640Ôºå my camera has this issueÔºå
    so it has to be 640 by 40„ÄÇThat we can do there„ÄÇüòîÔºåSo„ÄÇWhy is it stillÔºå OkayÔºå okayÔºå
    okayÔºå So this is supposed to be opposite„ÄÇ So this should be 6Ôºå40„ÄÇAnd this should
    be 360„ÄÇLet's make it 480„ÄÇ„ÅÑ„ÇÑ„ÄÅÈñìÈÅï„Åæ„Çã„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So this is what we are getting„ÄÇ And now the thing is that our original image
    is 640 by 480„ÄÇ so don't expect a lot of resolution over hereÔºå but I have put an
    image„ÄÇIn the resources folder„ÄÇ So if you look at the resources folderÔºå we have
    a paper„ÄÇImage and this image is really high resolution„ÄÇ It is 4000 by 3000„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: so if you apply the same method on this oneÔºå it will give you a really good
    scanned image at the end„ÄÇ but because we are getting it from a live webcam and
    it is only 640 by 480 that's why the resolution is not that good„ÄÇBut if you can
    bump up the valuesÔºå you will get much higher resolution„ÄÇ So that is good for now„ÄÇ
    but one thing we can see is that the verp is goodÔºå but we can see some lines at
    the end„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And we don't want that„ÄÇ we what we can do is we can afford a little bit of a
    cutout a little bit of a crop around the edges so that we get some better results„ÄÇ
    So what we can do is we can after warping itÔºå we can reduce some pixels so let's
    put it in the verp„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So here we can say that our„ÄÇLet's say„ÄÇImage„ÄÇOutputs„ÄÇOr should we name it different„ÄÇ
    Let's name it different„ÄÇSoÔºå image„ÄÇÂóØ„ÄÇCroed„ÄÇIs equal to„ÄÇWe are going to crop our
    image„ÄÇ or we are going to say that our original image is IMG output„ÄÇ and then
    we are going to remove 20 pixels from each sideÔºå so we will say 20„ÄÇThenÔºå image„ÄÇOutput„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: dot shape„ÄÇAdd zeroÔºå and then we will minus 20 from here as what„ÄÇAnd then we
    will say 20 again„ÄÇ and then we will say that our image output„ÄÇDot shapeÔºå which
    is„ÄÇAt 1-20„ÄÇSo this is the same concept what we have done before in our cropping
    example„ÄÇ so if you don't remember that you can check that chapter again„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: so once we have done that we need to resize the image so that it becomes as
    the same size as before„ÄÇBecause it will be easier to play around with it„ÄÇSo„ÄÇCbed
    is equal to C2 dot resize„ÄÇ and then our image crop„ÄÇAnd then our width„ÄÇOf our image
    and then height of our image„ÄÇAnd then we can output the crop image instead„ÄÇSoÔºå
    if we learn that„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Now we are getting a much cleaner imageÔºå we have removed 20 pixels from each
    side and now it looks more like a scanned paper„ÄÇOkayÔºå so nextÔºå what we can do
    is if we want to look at what you call„ÄÇThe workflow„ÄÇ we can add our joining I
    codeÔºå which is our stacking„ÄÇIf we wanted to do thatÔºå so we can go back„ÄÇWe can
    go to chapter 6„ÄÇ and here we have the function for stacking„ÄÇ We can copy this„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And we can paste it in our current project„ÄÇAnd just to put all these images
    together„ÄÇSo which of the images should we put togetherÔºüSo this is just a formality
    to see what is going on„ÄÇSo and there is another case that I will discuss now and
    you will see why that is important as well„ÄÇLet's just stack the images firstÔºå
    so we will say that our image„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Aray is equals to we are going to declare an array„ÄÇSo here we'll put our original
    image„ÄÇThen we can put our image contour„ÄÇAnd then we can put the„ÄÇImage„ÄÇBiggest„ÄÇWhere
    that image threshold„ÄÇ So let's put it down so we can put it here„ÄÇImage threshold„ÄÇAnd
    thenÔºå we can put„ÄÇImage worked„ÄÇSo this should give us a good idea„ÄÇAnd then we will
    just say that„ÄÇStack the images„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: so we will see it stacked„ÄÇImages is equals to stack images„ÄÇAnd we will define
    a scale„ÄÇSo let's say 0„ÄÇ6„ÄÇ and then we are going to define our arrays of image„ÄÇOhÔºå
    sorryÔºå imagery„ÄÇAnd then here we will copy this and paste it„ÄÇPaste it„ÄÇSo there
    you go so now we can see the workflow„ÄÇ we have our documentÔºå then we are getting
    our what we call the biggest contours and then actually this should be here„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: this should be here the other way around„ÄÇSo„ÄÇWhere is it„ÄÇSo that is betterÔºå I
    guess„ÄÇ Yeah„ÄÇ so that is better„ÄÇ So againÔºå now we are rescaling it„ÄÇ so that it„ÄÇBecause
    of that„ÄÇ it's looking a little bit weird„ÄÇBut if we print it out separatelyÔºå it
    should be fine„ÄÇWhat is it in each workedÔºü
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/04f37d9e927ad86517b1e6fa084d48b2_4.png)'
  prefs: []
  type: TYPE_IMG
- en: SoÔºå here we have our„ÄÇFinal result„ÄÇNow one thing you will note nowÔºå if I remove
    the document„ÄÇ it should give us an error„ÄÇ![](img/04f37d9e927ad86517b1e6fa084d48b2_6.png)
  prefs: []
  type: TYPE_NORMAL
- en: There you go„ÄÇNowÔºå this error is because we did not define anything when it does
    not define the biggest„ÄÇ it does not find the biggest contour„ÄÇ So we need to write
    that down here„ÄÇSo we will say that we are going to find the biggest contour„ÄÇLet
    me see up if we want to put it up or here„ÄÇOkay„ÄÇSo„ÄÇYeahÔºå we are sending„ÄÇThe biggest„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: I think it's better to put it down here„ÄÇSo what we can do is we can say that
    if our biggest is not equals to0 or its if it's not empty„ÄÇ then we need to go
    forward so we can say„ÄÇThat„ÄÇIf biggest„ÄÇDotsÔºå sorryÔºå dot size„ÄÇIs not equals to 0„ÄÇThen
    we are going to do this image workÔºå otherwise„ÄÇAnd this should be insideÔºå as well„ÄÇAnd
    this can be outside„ÄÇOtherwise elseÔºå we are going to display the images stillÔºå
    but we will„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Not display the contours because we didn't find themÔºå and we will not display
    the work„ÄÇ We will just„ÄÇReplace it with the original image„ÄÇSo let's see if that
    works„ÄÇ![](img/04f37d9e927ad86517b1e6fa084d48b2_8.png)
  prefs: []
  type: TYPE_NORMAL
- en: So if I remove thatÔºå yeahÔºå so when I remove it„ÄÇIt doesn't show anything and
    then when I bring it back„ÄÇIt's now showing me the live image„ÄÇ![](img/04f37d9e927ad86517b1e6fa084d48b2_10.png)
  prefs: []
  type: TYPE_NORMAL
