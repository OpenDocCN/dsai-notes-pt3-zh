- en: „ÄêÂèåËØ≠Â≠óÂπï+ËµÑÊñô‰∏ãËΩΩ„ÄëPython 3ÂÖ®Á≥ªÂàóÂü∫Á°ÄÊïôÁ®ãÔºåÂÖ®Á®ã‰ª£Á†ÅÊºîÁ§∫&ËÆ≤Ëß£ÔºÅ10Â∞èÊó∂ËßÜÈ¢ë42ËäÇÔºå‰øùËØÅ‰Ω†ËÉΩÊéåÊè°PythonÔºÅÂø´Êù•‰∏ÄËµ∑Ë∑üÁùÄËßÜÈ¢ëÊï≤‰ª£Á†Å~ÔºúÂø´ÈÄüÂÖ•Èó®Á≥ªÂàóÔºû
    - P42Ôºö42ÔºâÊûÑÂª∫ÁÆÄÂçïÁöÑÂ∫îÁî®Á®ãÂ∫èÔºöÁõÆÂΩïÁªüËÆ° - ShowMeAI - BV1yg411c7Nw
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![](img/fdc7b717fb1febada208161246298987_0.png)'
  prefs: []
  type: TYPE_IMG
- en: Welcome backÔºå everyone„ÄÇ My name is BrianÔºå and we're going to make a simple application
    called D Stats„ÄÇ And what this thing's going to do is it's going to scan a directory
    recursively„ÄÇ You're new to programming„ÄÇ You're probably going what does that even
    mean recursively„ÄÇ Well„ÄÇ let's say you have a directory„ÄÇ and that has subfolders„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: and those folders have subfolds and so on and so on and so on„ÄÇ And you have
    this nice tree structure similar to how we see over here„ÄÇüòä„ÄÇWe want to be able
    to scan all the way through that tree„ÄÇ![](img/fdc7b717fb1febada208161246298987_2.png)
  prefs: []
  type: TYPE_NORMAL
- en: Let's take a look at a simple diagram here and don't worry I'm going to zoom
    in„ÄÇ but we have a start in an end and our overall logic is going to be very linear„ÄÇ
    very easy to understandÔºå let's go ahead and zoom in„ÄÇSo we're going to start„ÄÇ we're
    going to go to our main functionÔºå we're going to get some user input„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: and we're going to validate that that actually exists as a folder somewhere
    out on the operating system„ÄÇIf it does notÔºå we're going to jump right to finished„ÄÇ
    HoweverÔºå if it is actually in existence„ÄÇ we're going to go into a for loop„ÄÇ and
    this is the recursive bit right here„ÄÇWe're going to say for each item„ÄÇIf it has
    sub items„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: go back and scan those items and so on and so on all the way down the directory
    tree„ÄÇ If we run out of itemsÔºå then we're done„ÄÇ And we're just going to display
    the results to the inducer„ÄÇPretty simpleÔºå pretty easy to understand logic„ÄÇ![](img/fdc7b717fb1febada208161246298987_4.png)
  prefs: []
  type: TYPE_NORMAL
- en: Let's dive in and take a look„ÄÇ![](img/fdc7b717fb1febada208161246298987_6.png)
  prefs: []
  type: TYPE_NORMAL
- en: OkayÔºå first things firstÔºå we want to do some imports and make a global variable„ÄÇ
    So our import„ÄÇ we're just going to simply use O„ÄÇ NowÔºå OS in itself„ÄÇ this module
    really allows us to deep dive into the operating system and get some details„ÄÇ
    We're going to use this to get WellÔºå the folder structure along with the file
    sizes and things of that nature„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So let's go ahead and now let's make a dictionary„ÄÇI'm going to call the stats„ÄÇAnd
    we want a very simple dictionary hereÔºå I must say path equals personally„ÄÇ I'm
    not a fan of global variablesÔºå although they do have their usage„ÄÇ and I believe
    this is one of those times„ÄÇSo we're going to say path and then holds„ÄÇFileles„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And in case you're wonderingÔºå reallyÔºå all this is going to do is just hold the
    metrics that we're going to scan„ÄÇSay links„ÄÇAnd then the total size in bys„ÄÇGo ahead
    and run this„ÄÇ just make sure we didn't misspell anythingÔºå we got no errorsÔºå so
    we're good to go„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/fdc7b717fb1febada208161246298987_8.png)'
  prefs: []
  type: TYPE_IMG
- en: '![](img/fdc7b717fb1febada208161246298987_9.png)'
  prefs: []
  type: TYPE_IMG
- en: Okay„ÄÇStarting pointÔºå we need to get the user input„ÄÇ We have to have something
    to scan„ÄÇ So we're going say depth„ÄÇIt input„ÄÇThis function is going to be very simple„ÄÇ
    but there is a bit of complexity we got to explain a little bit here„ÄÇ So first
    thing we want to do is use this global variable„ÄÇSo we need to use the global keyword„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So global stats„ÄÇ If we forget to use the global keywordÔºå we're now making a
    new variable„ÄÇ and then Python will„ÄÇDepending on the version of Python„ÄÇ selectively
    choose to use the global variable or create a brand new variable inside of the
    function„ÄÇSo we want to tell Python use the global variable from hereÔºå we're going
    to get the user input„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we' going to say RE equalsÔºå and we're going to do this a little bit different
    instead of just saying input and then get the input„ÄÇWe want to convert that to
    a path all in one line„ÄÇ So someone going say O S dot path„ÄÇWhen we want the absolute
    pathÔºå now we want to get the user input„ÄÇAnd we're just going to simply do this
    all in one line„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: we're going to say take the user input and convert it to the absolute path„ÄÇVery
    cool how that works now that we've got this little guy here„ÄÇWe can just check
    to see if it actually exists„ÄÇAnd we're going to use OS„ÄÇpath„ÄÇexist„ÄÇNotice how we're
    saying if notÔºå meaning if it does not exist if this is going to return faults„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Then we want to take some sort of action„ÄÇAnd in this caseÔºå I'm just going to
    let the user knowÔºå hey„ÄÇ you screwed up„ÄÇAnd we can't really move forward with this
    programÔºå so„ÄÇSorry„ÄÇBack path„ÄÇDoes not exist„ÄÇAnd then I'm going to exit our little
    application here now if you don't know what an exit code is„ÄÇTypicallyÔºå when you
    run an applicationÔºå it will run do its thing and then exit„ÄÇAnd when it exits„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: it tells the operating system what happened„ÄÇ0 means that there were no problems„ÄÇ
    This worked as intended„ÄÇ But clearlyÔºå that's not the case„ÄÇ So we're going to give
    it an exit code of one„ÄÇAnd this is really up to you as the developer to determine
    what these exit codes are„ÄÇ it could be oneÔºå could be 99Ôºå91Ôºå whatever we wantedÔºå
    we're just going to do one„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: That tells the operating system this did not work as expected and if we have
    an end user they can say„ÄÇ ohÔºå the program gave me exit code one and you can sayÔºå"UÔºå
    yepÔºå you gave me the wrong path„ÄÇO„ÄÇNow„ÄÇ we want to say if„ÄÇNot O S path„ÄÇ And we
    want to make sure this is a directory„ÄÇ because sometimes our users are not that
    smart and they're going to hand us a file or something like that„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we're going to say sorryÔºå that path„ÄÇIs not pat directory„ÄÇAnd then let's say
    exit code2„ÄÇ and we could define whatever we wanted„ÄÇNow that we have reached this
    point„ÄÇ we know that we have a valid path„ÄÇAnd it exists and it is a directory„ÄÇ
    so we're going to update our global variable and in here we have half„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: so that's what we're going to update here„ÄÇAnd to say stats„ÄÇHalf equals„ÄÇSo we're
    just setting the dictionary value for path to whatever folder they entered„ÄÇVery
    simple„ÄÇ very easy to understand logic„ÄÇNow that we've got the user input and we
    know what path they want to scan„ÄÇ we want to scan that path recursively„ÄÇ and we're
    going to do this in a function„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we're going to say de scan„ÄÇGive it a path„ÄÇAnd again„ÄÇ we want to use that
    global variable so we can say global„ÄÇThats„ÄÇI like that word„ÄÇ stats reminds me
    of like a doctor or something„ÄÇ If we want to be super nice„ÄÇ we can actually print
    out what we're doing here„ÄÇ So we're going to say scanning„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And then whatever our path is„ÄÇNow you may be wondering why we would use a variable
    when the path is actually in stats„ÄÇAnd the reason being is we're going to do this
    recursively„ÄÇ meaning this path variable right here is going to change over time
    where the path inside of our dictionary is the root„ÄÇSo this could actually be
    a folder of a folder of a folderÔºå something like that„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So that's why just in case you're wondering„ÄÇNow comes the fancy bit here„ÄÇ We're
    going to use something called O S dot walk„ÄÇ And I want to just preface this with
    there are a million different ways to do this„ÄÇ We're just using one way„ÄÇ So I'm
    going to actually put millions„ÄÇOf ways to do this„ÄÇAnd I'm sure people down in
    the comments will goÔºå wellÔºå you shouldn't use OSW„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: you should use this other way or Gob or whateverÔºå we're just going to use OS
    walk because it's simple to understand„ÄÇSo we're going to say four„ÄÇWalk is going
    to return three valuesÔºå it's going to say root„ÄÇDs„ÄÇAnd files„ÄÇSo root is obviously
    the root D is a list of directory and files are a list of files„ÄÇ I love how this
    is just super self explanatory„ÄÇSo„ÄÇThat is going to be in„ÄÇOÔºå S dot walk„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And this is why I like using walk because it's super simple to use„ÄÇ It's super
    simple to understand„ÄÇ We're going to scan that path if I can spell path correctly„ÄÇAnd
    then I want to say on error„ÄÇWe're going to set this to none„ÄÇ We have to do this
    because there's going to be some folders you just simply won't have access to
    like you'll get an access denied or you'll have some sort of weird hard drive
    error or something you don't want to crash your program„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So we're going to say on error equals none„ÄÇ We could set that to a function
    or whatever we wanted to do„ÄÇ But we're just going to say none„ÄÇ So take no action„ÄÇAnd
    then follow links„ÄÇWe're going to set that to alts„ÄÇWhat this means is if you had
    a link„ÄÇThink of it like a short cut that points somewhere else„ÄÇ If that was set
    to true„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: You could scan way outside„ÄÇ So like if you had a folder one„ÄÇTo comment this
    out„ÄÇ let's say you had folder  one and inside a folder oneÔºå there was a link„ÄÇThat
    pointed to Boer 3„ÄÇYou kind of see what's going on here„ÄÇAzure scanning folder 1„ÄÇIf
    you're following that link„ÄÇ you're going to jump to a completely different folderÔºå
    even though say folder 3„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Is at the root level like up hereÔºå so we don't want to do that„ÄÇ want to make
    sure that we're not following those links„ÄÇAll rightÔºå From here„ÄÇ We're going to
    say stats„ÄÇAnd we want to update our metrics here„ÄÇ So we want to know the folders„ÄÇAnd
    the folders are going to be plus equalsÔºå and we want the link„ÄÇOfÔºå you guessed
    itÔºå yours„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So this is going to be a list„ÄÇAnd we want to get the length or the number of
    items in that list„ÄÇ I don't remember if it's actually a list or tuple„ÄÇ but Telec
    is telling me it's a list and files will be a list as well„ÄÇList your tus I don't
    care„ÄÇ we're just going to get the length of it now we're going to say files„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: we're going to update the files metric as well„ÄÇYou got to be a little bit careful
    that it is folders„ÄÇ filessÔºå we're spelling those correctlyÔºå otherwise we're actually
    adding a different key altogether„ÄÇNowÔºå from here„ÄÇWhat we want to do is say„ÄÇOr„ÄÇName
    in files„ÄÇ And we're going to go through and scan each one of these files independently„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: We're going to say full name„ÄÇEquals O dot„ÄÇHalf„ÄÇAt join„ÄÇ And what this is going
    to do is allow us to join the root„ÄÇOr the folder name with the actual file name„ÄÇ
    So these are going to be two different things„ÄÇ This will be like the actual pathÔºå
    and this will just be the name without the directory name attached to it„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So this could be something like„ÄÇS dot T X TÔºå not the actual full path„ÄÇ So we
    want to make sure that we are joining those together„ÄÇ and O path join does exactly
    that joins two or more path name components„ÄÇAll right„ÄÇTakes care of a lot of the
    headache for usÔºå so we don't have to worry about it„ÄÇFrom there„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: let's go ahead and get a size„ÄÇ And we're going to say OÔºå S dot path„ÄÇYou see
    how we're using O S quite a bitÔºå especially path„ÄÇ So O S that pathÔºå and we want
    to get size„ÄÇThis is going to get the size of that fileÔºå and we're going to use
    the full path name rather than just the name„ÄÇOnce we've got that sizeÔºå we can
    go in here and we can say stats„ÄÇAnd jump up„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: let's see what key we used hereÔºå size„ÄÇSo we can just go„ÄÇSize„ÄÇAnd let's increment
    that„ÄÇSo„ÄÇStarting at the topÔºå we're going to scan a path and we're going to go
    ahead and just keep scanning that path over and over and over and over and over„ÄÇ
    This is what I love about this„ÄÇNowÔºå one thing you should know is this is a bit
    misleading„ÄÇ we could have actually have done our stats if we wanted to„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: but I wanted the ability to use this somewhere else if we needed to by allowing
    us to jump into that path„ÄÇ You'll see what I mean here in a little bit„ÄÇ![](img/fdc7b717fb1febada208161246298987_11.png)
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/fdc7b717fb1febada208161246298987_12.png)'
  prefs: []
  type: TYPE_IMG
- en: Now that we have scanned recursivelyÔºå we just simply want to display to the
    user what we've done so far„ÄÇ And this would actually be right before the program
    exits„ÄÇ So we're going to say depth display„ÄÇ And againÔºå there's a bunch of different
    ways we could have done this„ÄÇLet's go ahead and lowercase that„ÄÇAnd reallyÔºå all
    we want to do is just print out our dictionary„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: That's why I put everything in a dictionary because it's nice neat and compact„ÄÇ
    So we're going to say global stats„ÄÇ now you know what the global keyword does„ÄÇ
    We're going to print word results„ÄÇAnd then we're going to print out the key value
    pairs in the dictionary„ÄÇ so I'm going say four„ÄÇAcom a v„ÄÇ‰πü‰∫Ü„ÄÇThat's„ÄÇËøòÊúâ‰∏™Âõ†ÊÄù„ÄÇThat's
    going to get us the key value pairs„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And then it's just veryÔºå very simple from hereÔºå rent„ÄÇAnd we're going to format
    that„ÄÇAnd I want to print the key„ÄÇWith an equal signÔºå and then the value„ÄÇVeryÔºå
    very simple function„ÄÇ but it's going to look really elegant on the screen„ÄÇOkayÔºå
    it's time to wrap things up here„ÄÇ let's do our main function so„ÄÇLet's go ahead
    and say„ÄÇDe mean„ÄÇAnd some Python nus are going to say„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: do we actually need to make a main functionÔºå I meanÔºå we couldÔºå technicallyÔºå
    if we wanted to„ÄÇDo something like if name equals„ÄÇAnd we want to say underscoreÔºå
    underscore main„ÄÇAnd then we could do our code here„ÄÇYou absolutely could„ÄÇ I don't
    like doing this„ÄÇ I like putting everything right a nice neat function in case
    I want to swap out functions later Then I'm not copying and pasting and doing
    a bunch of other stuff„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So instead I'll just„ÄÇActually call our main function right there„ÄÇNow remember„ÄÇ
    what we're doing here is we're checking to see how this file this individual script
    was run if it's run directly by the Python interpreter„ÄÇ its name is going to be
    underscoreÔºå underscore main underscore underscore and we've talked about the underscore
    in the past„ÄÇ but these are special characters that Python uses to determineÔºå heyÔºå
    this is internal to Python„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So if Python runs itÔºå the name is going to be main„ÄÇ if it's anything else that
    means another script is calling this„ÄÇ and I don't want to fire off this main function
    insteadÔºå the script„ÄÇ the calling script may want to call display or scan„ÄÇ which
    is why I left that there instead of doing this global„ÄÇmanÔºå lots of explaining„ÄÇ
    but I think you wrap your head around it now„ÄÇ So once we've got this far„ÄÇWe can
    sayÔºå global„ÄÇThats„ÄÇAnd actuallyÔºå I don't need those„ÄÇ So we're going to tell itÔºå
    heyÔºå we want to use the global variable„ÄÇFrom hereÔºå we're going to go ahead and
    get the user input„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: We could have done this a little differently„ÄÇ We could have had get input return
    of value„ÄÇ but insteadÔºå I wanted everything encapsulated in there„ÄÇ That wayÔºå if
    some other function called it„ÄÇ it's all baked right into our global variable„ÄÇLittle
    bit of a design choice„ÄÇ And you may have to tweak that depending on your needs„ÄÇ
    NowÔºå let's go ahead and scan„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And notice how we have a path now we have to feed thisÔºå and we can just say
    stats„ÄÇHalf„ÄÇWe're getting the path„ÄÇFrom the git inputÔºå And we could very easily
    hard code that into the app if we wanted to„ÄÇAnd then finallyÔºå let's go ahead and
    display the end result to the user„ÄÇ And we can kind of condense this down a little
    bitÔºå make a little easier on the eyes„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: So the main logic is very simple„ÄÇWe're going to use our global variableÔºå're
    going to get the input„ÄÇ we're going to scan that path and then display the results„ÄÇ
    let's go ahead and fire this thing off and see what happens„ÄÇAl rightÔºå so enter
    a folder path„ÄÇ if I want to just scan my current pathÔºå I can just press a dot
    because remember dot is the current directory where dot dot is the parent directory„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: And it says sure enough our current directory is this guy right hereÔºå Python
    3„ÄÇ there are two foldersÔºå two filesÔºå zero lengthÔºå and the total size in bytes
    is 2594„ÄÇAll right„ÄÇ so this is a pretty beefy little program that we've got here
    so farÔºå it's simple„ÄÇ it's easy to understand and use but at the same time it's
    doing some pretty complex logic for beginner land here„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: The main takeaways from this isÔºå yesÔºå you can use a global variable„ÄÇ although
    it may not always be the best designed choice„ÄÇAlwaysÔºå always„ÄÇ always validate
    the user inputÔºå you never want to just trust the end user„ÄÇI meanÔºå for example„ÄÇ
    what if I ran this and they said cats„ÄÇSorryÔºå that path does not exist„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: What if we just tried scanning for catsÔºå You knowÔºå your program's going to crash„ÄÇNowÔºå
    scan„ÄÇ the major takeaway from this is there are millions of different ways of
    doing this„ÄÇ I used OS S walkÔºå Use what works for you„ÄÇ I personally prefer OS walk
    because it allows me to easily break out here if I need to because it's in a nice
    neat for loop„ÄÇSo if I wanted to go so many levels deepÔºå I could bake that logic
    again„ÄÇ
  prefs: []
  type: TYPE_NORMAL
- en: Display we're pretty much just using the directory items to get the key value
    pairs and then print them out„ÄÇ And then we covered our naming convention internal
    to Python„ÄÇ![](img/fdc7b717fb1febada208161246298987_14.png)
  prefs: []
  type: TYPE_NORMAL
