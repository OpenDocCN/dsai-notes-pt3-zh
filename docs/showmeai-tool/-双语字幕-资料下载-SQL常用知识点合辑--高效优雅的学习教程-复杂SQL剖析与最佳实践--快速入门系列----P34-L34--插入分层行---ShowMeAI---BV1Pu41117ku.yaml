- en: ã€åŒè¯­å­—å¹•+èµ„æ–™ä¸‹è½½ã€‘SQLå¸¸ç”¨çŸ¥è¯†ç‚¹åˆè¾‘â€”â€”é«˜æ•ˆä¼˜é›…çš„å­¦ä¹ æ•™ç¨‹ï¼Œå¤æ‚SQLå‰–æä¸æœ€ä½³å®è·µï¼ï¼œå¿«é€Ÿå…¥é—¨ç³»åˆ—ï¼ - P34ï¼šL34- æ’å…¥åˆ†å±‚è¡Œ - ShowMeAI
    - BV1Pu41117ku
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![](img/f8da00bca95829b0b487f1e08381e567_0.png)'
  prefs: []
  type: TYPE_IMG
- en: å“¦ã€‚So far you have only learned how to insert data into a single table in this
    tutorialã€‚ I'm going to show you how to insert data into multiple tablesã€‚ Here
    is a really good exampleã€‚ Look at the orders tableã€‚ What columns do we have hereã€‚We
    have the order Iã€‚ we have the customer ID so we know who has placed this orderã€‚
    We know the date of the orderã€‚
  prefs: []
  type: TYPE_NORMAL
- en: We know this statusï¼Œ comments as well as shipping informationã€‚ but the actual
    items for this order are not in this table they are in the order items table So
    in this table we have four columns we have the order I So we know what order this
    item is for We have the product Iã€‚
  prefs: []
  type: TYPE_NORMAL
- en: So we know what product has been ordered at what quantity and what price So
    an actual order can have one or more order itemsã€‚ This is what we call a parent
    child relationshipã€‚ So this relationship the order table is the parent and the
    order items table is a child So one row in the order table can have one or more
    children inside the order items table Now in this tutorial I'm going to show you
    how to insert an order and all its items So you will learn how to insert data
    into multiple tablesã€‚
  prefs: []
  type: TYPE_NORMAL
- en: ğŸ˜Šï¼ŒAlrightï¼Œ back to our query editor windowã€‚ firstï¼Œ we need to insert the orderã€‚
    So insert intoã€‚Let me close the Navigator panelã€‚All rightï¼Œ we want to insert a
    record into the orders tableã€‚ğŸ˜Šï¼ŒNowã€‚ what columns do we have hereï¼ŸSo we have these
    columns but only the first four are required and actually the first oneã€‚ we don't
    want to worry about that because that's an auto increment columnã€‚
  prefs: []
  type: TYPE_NORMAL
- en: so we only want to supply values for customer IDï¼Œ order date and status so back
    to our queryã€‚ğŸ˜Šã€‚We specify those columns hereã€‚Customer IDï¼Œ orderï¼Œ date and statusã€‚Now
    let's apply the valuesã€‚In the customer ID columnï¼Œ we need to add a valid customer
    IDã€‚So let's have a quick look at our customers tableã€‚ğŸ˜Šï¼ŒThere you goã€‚In this table
    we have 11 recordsã€‚
  prefs: []
  type: TYPE_NORMAL
- en: so these are the valid customer IDã€‚Now back to our queryï¼Œ let's use one for
    customer IDã€‚And then 2019ï¼Œ Januaryï¼Œ the 2 for the order dateï¼Œ and one for the
    order statusï¼Œ once againã€‚ in this columnï¼Œ we need to insert a valid order status
    IDã€‚ If we don't supply a valid Iã€‚ minus field is going to yell usã€‚So we insert
    an order hereã€‚ Now we need to insert the itemsã€‚
  prefs: []
  type: TYPE_NORMAL
- en: Now back to our order items tableã€‚In this table we have this order ID columnã€‚
    So here's the tricky partã€‚ As soon as we insert an orderã€‚ My skill is going to
    generate an I for our new orderã€‚ Now we need to be able to access that I in order
    to insert the items in this table how can we do that Wellã€‚
  prefs: []
  type: TYPE_NORMAL
- en: back to our query editor windowã€‚ğŸ˜Šï¼ŒIn MyQ we have a bunch of built in functions
    and a function is basically a piece of code that we can reuseã€‚ just like the functions
    or features in your TVï¼Œ Every TV comes with a bunch of built in functions like
    power onã€‚
  prefs: []
  type: TYPE_NORMAL
- en: power offï¼Œ changed volumeï¼Œ changed the channel and so onã€‚ So Myq and other database
    engines come with a bunch of built in functions that we can use in our programsã€‚
    One of these functions is last insert IDã€‚We can call or execute this function
    by adding parenthses hereã€‚ and this will return the ID that myQ generates when
    we insert a new rowã€‚So before going any furtherã€‚
  prefs: []
  type: TYPE_NORMAL
- en: let's just select this and make sure we get the right resultã€‚ğŸ˜Šã€‚Now we have a
    syntax error here because we didn't terminate the first statement with a semicolonã€‚
    all rightï¼Œ now let's execute this queryã€‚ğŸ˜Šï¼ŒAlrightï¼Œ so the idea of the new order
    is 12ã€‚Let's verify that so back to the orders tableï¼Œ let's look at the data on
    my machine I have 12 records hereã€‚
  prefs: []
  type: TYPE_NORMAL
- en: I actually created one just before recording this videoã€‚ so on your machine
    you're going to have 11 ordersã€‚ğŸ˜Šï¼ŒNow back to our query windowã€‚ now that we know
    how to get the idea of the newly inserted recordã€‚ we can use that ID to insert
    the child records soã€‚We're going to write another insert statementã€‚
  prefs: []
  type: TYPE_NORMAL
- en: insert into order itemsã€‚Let's have another look at the columns in this tableã€‚So
    we have four columns and all of them are requiredã€‚ so there is really no need
    to specify the column names in our insert statementã€‚ we simply supply values for
    order IDï¼Œ product IDï¼Œ quantity and unit priceã€‚
  prefs: []
  type: TYPE_NORMAL
- en: So here in the values clauseï¼Œ we had parenthesesã€‚What is our orderï¼Œ I Dã€‚ That
    is the value returned from calling this functionã€‚ So I'm going to cut this from
    here and put it hereã€‚Next we need to supply a valid product IDã€‚ let's say product1ã€‚Quantityï¼Œ
    let's say one and the unit price $2ã€‚95ã€‚Now let's delete this selectã€‚
  prefs: []
  type: TYPE_NORMAL
- en: we don't really need it anymoreã€‚ and let's add another set of valuesã€‚ So once
    againã€‚ we're going to call last insert I to get the idea of the new orderã€‚ğŸ˜Šã€‚We're
    going to change the product to product number2 andã€‚At a different priceã€‚That's
    itã€‚Now let's execute these statements and see what we getã€‚ğŸ˜Šï¼ŒAll rightï¼Œ soã€‚Back
    to our orders tableã€‚
  prefs: []
  type: TYPE_NORMAL
- en: let's refresh the records hereã€‚ Allrightï¼Œ so we have a new order order number
    13ã€‚ beautifulã€‚ Now let's look at the order items tableã€‚ğŸ˜Šï¼ŒHere is the order itemsï¼Œ
    let's open the tableã€‚So we should have two items for order number 13ã€‚Beautifulã€‚
    so this is how you insert hierarchical data in mySQLã€‚ğŸ˜Šã€‚
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f8da00bca95829b0b487f1e08381e567_2.png)'
  prefs: []
  type: TYPE_IMG
