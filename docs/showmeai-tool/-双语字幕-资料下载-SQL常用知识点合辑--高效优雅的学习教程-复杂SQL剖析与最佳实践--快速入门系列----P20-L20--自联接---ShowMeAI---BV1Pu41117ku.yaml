- en: ã€åŒè¯­å­—å¹•+èµ„æ–™ä¸‹è½½ã€‘SQLå¸¸ç”¨çŸ¥è¯†ç‚¹åˆè¾‘â€”â€”é«˜æ•ˆä¼˜é›…çš„å­¦ä¹ æ•™ç¨‹ï¼Œå¤æ‚SQLå‰–æä¸æœ€ä½³å®è·µï¼ï¼œå¿«é€Ÿå…¥é—¨ç³»åˆ—ï¼ - P20ï¼šL20- è‡ªè”æ¥ - ShowMeAI
    - BV1Pu41117ku
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '![](img/4c576945b4fc995932ea18ff09407a6e_0.png)'
  prefs: []
  type: TYPE_IMG
- en: å“¦ã€‚In SQLï¼Œ we can also join a table with itselfã€‚ Let me show you an exampleã€‚
    Take a look at this databaseï¼Œ SQL HRã€‚ğŸ˜Šï¼ŒIn this database we have these two tablesã€‚
    employees and officeï¼Œ let's take a look at the data in the employeess tableã€‚There
    you goã€‚So here we have these columnsï¼Œ employee IDï¼Œ first nameï¼Œ last nameï¼Œ their
    job titleã€‚
  prefs: []
  type: TYPE_NORMAL
- en: salary and reports2 this is the idea of the manager for this person or this
    employee Now once again we don't want to repeat the manager's information here
    like their phone numberã€‚ their address because this information can change in
    the future so we are only using their identifier or their ID to refer to them
    in the tableã€‚
  prefs: []
  type: TYPE_NORMAL
- en: Nowï¼Œ where can we find the information about this managerï¼Ÿ Wellã€‚ this manager
    is actually an employee of the same organization soã€‚ğŸ˜Šï¼ŒLook at this exampleã€‚ the
    manager ID is 37270ã€‚Nowï¼Œ if you look on the left sideï¼Œ here's the idea of that
    managerã€‚ which is another employeeã€‚ğŸ˜Šï¼ŒNow who's the manager for this employeeï¼Œ
    let's take a lookã€‚ğŸ˜Šã€‚
  prefs: []
  type: TYPE_NORMAL
- en: We don't have any values hereï¼Œ so the value for this sale is nullã€‚ so this employee
    doesn't have a managerï¼Œ and that means they are the CEOã€‚ğŸ˜Šã€‚So now let's go ahead
    and write a query to join this table with itself so we can select the name of
    each employee and their managerã€‚ğŸ˜Šï¼ŒBack to a query windowï¼Œ first we need to select
    the SQL HR databaseã€‚Nextã€‚
  prefs: []
  type: TYPE_NORMAL
- en: we select everything from the employees table we give it an alias like E Now
    we need to join this table with itselfã€‚ so once again we type out employeesï¼Œ but
    we need a different alias what should we call this alias well we want to join
    this table with itself so we can find the managers right so we can use M as in
    short for managersã€‚
  prefs: []
  type: TYPE_NORMAL
- en: ğŸ˜Šï¼ŒNow let's type out our joint conditionã€‚So from the employees tableã€‚ we need
    to join the reports underline two column to the managers tableã€‚ which is basically
    theEmploy table itself and what columnã€‚That is employee Under IDã€‚Now let's execute
    this query and see what we getã€‚ğŸ˜Šï¼ŒSoã€‚
  prefs: []
  type: TYPE_NORMAL
- en: We see all the columns from the employees table repeated the first set of columns
    represent information about the employees and then after that we have information
    about the manager in this case we have only one manager in this table but with
    this technique we can easily create an organization chart we can have a hierarchy
    of manager Now let's simplify our query and select only the name of the employee
    and their manager soã€‚
  prefs: []
  type: TYPE_NORMAL
- en: Back hereã€‚Since every column in the employees table is repeated twiceã€‚ we need
    to prefix each column with a table name for exampleã€‚From the employees tableã€‚
    you want to get employeeã€‚Idã€‚ğŸ˜Šï¼ŒAs well as the first nameã€‚And then from the manager's
    table you want to select the first name as wellã€‚
  prefs: []
  type: TYPE_NORMAL
- en: so every column should be prefixed with the table name or more accurately the
    alias because all these columns exist in two tables rightã€‚ let's go ahead and
    execute this queryã€‚ğŸ˜Šï¼ŒSoã€‚This is what we get employee ID first nameã€‚ and here's
    the manager's first nameã€‚ we can improve this query by giving an alien to this
    column because it doesn't make sense to have two who first name columns soã€‚ğŸ˜Šï¼ŒLet's
    give an alias to the third column managerã€‚Nowï¼Œ let's execute it one more timeã€‚
  prefs: []
  type: TYPE_NORMAL
- en: And here's the end resultï¼Œ so we have the employee IDï¼Œ first name and Addã€‚ğŸ˜Šã€‚So
    joining a table with itself is pretty much the same as joining a table with another
    tableã€‚ the only difference is that we have to use different aliases and we have
    to prefix each column with an aliasã€‚ğŸ˜Šï¼ŒThis is what we call a self joinã€‚Next I'm
    going to show you how to join more than two tablesã€‚ğŸ˜Šã€‚
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/4c576945b4fc995932ea18ff09407a6e_2.png)'
  prefs: []
  type: TYPE_IMG
- en: Ohã€‚
  prefs: []
  type: TYPE_NORMAL
