- en: ã€åŒè¯­å­—å¹•+èµ„æ–™ä¸‹è½½ã€‘SQLå¸¸ç”¨çŸ¥è¯†ç‚¹åˆè¾‘â€”â€”é«˜æ•ˆä¼˜é›…çš„å­¦ä¹ æ•™ç¨‹ï¼Œå¤æ‚SQLå‰–æä¸æœ€ä½³å®è·µï¼ï¼œå¿«é€Ÿå…¥é—¨ç³»åˆ—ï¼ - P22ï¼šL22- å¤åˆè¿æ¥æ¡ä»¶ - ShowMeAI
    - BV1Pu41117ku
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ã€åŒè¯­å­—å¹•+èµ„æ–™ä¸‹è½½ã€‘SQLå¸¸ç”¨çŸ¥è¯†ç‚¹åˆè¾‘â€”â€”é«˜æ•ˆä¼˜é›…çš„å­¦ä¹ æ•™ç¨‹ï¼Œå¤æ‚SQLå‰–æä¸æœ€ä½³å®è·µï¼ï¼œå¿«é€Ÿå…¥é—¨ç³»åˆ—ï¼ - P22ï¼šL22- å¤åˆè¿æ¥æ¡ä»¶ - ShowMeAI
    - BV1Pu41117ku
- en: '![](img/53c7c09d8eb1f22d1330df77256a9f36_0.png)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![](img/53c7c09d8eb1f22d1330df77256a9f36_0.png)'
- en: å“¦ã€‚In all the examples you have seen so farï¼Œ we use a single column to uniquely
    identify the rows in a given tableã€‚ For exampleï¼Œ in the customer's tableã€‚We have
    this customer ID column which uniquely identifies the rows in this tableã€‚ but
    there are times that we cannot use a single column to uniquely identify records
    in a given tableã€‚ for exampleï¼Œ look at the order items tableã€‚In a tableï¼Œ we have
    columns like order IDï¼Œ product IDã€‚
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: å“¦ã€‚åœ¨ä½ æ‰€çœ‹åˆ°çš„æ‰€æœ‰ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å•ä¸ªåˆ—æ¥å”¯ä¸€è¯†åˆ«ç»™å®šè¡¨ä¸­çš„è¡Œã€‚ä¾‹å¦‚ï¼Œåœ¨å®¢æˆ·è¡¨ä¸­ã€‚æˆ‘ä»¬æœ‰è¿™ä¸ªå®¢æˆ·IDåˆ—ï¼Œå®ƒå”¯ä¸€æ ‡è¯†æ­¤è¡¨ä¸­çš„è¡Œã€‚ä½†æœ‰æ—¶æˆ‘ä»¬ä¸èƒ½ä»…ä½¿ç”¨å•ä¸ªåˆ—æ¥å”¯ä¸€æ ‡è¯†ç»™å®šè¡¨ä¸­çš„è®°å½•ã€‚ä¾‹å¦‚ï¼Œçœ‹ä¸€ä¸‹è®¢å•é¡¹è¡¨ã€‚åœ¨ä¸€ä¸ªè¡¨ä¸­ï¼Œæˆ‘ä»¬æœ‰è¯¸å¦‚è®¢å•IDã€äº§å“IDç­‰åˆ—ã€‚
- en: and so onã€‚Now if you look at the data you can see that the values in the order
    ID column are repeatedã€‚ they're duplicatedï¼Œ we have 2ï¼Œ2ï¼Œ2ï¼Œ66 and so onï¼Œ so we
    cannot use this column on its own to uniquely identify each record the same is
    true for the product ID the values in this column are also duplicated so in this
    table we use the combination of the values in both these columns to uniquely identify
    each order item as an example in this order we have three items for products oneã€‚
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: ç­‰ç­‰ã€‚ç°åœ¨å¦‚æœä½ æŸ¥çœ‹æ•°æ®ï¼Œä½ ä¼šå‘ç°è®¢å•IDåˆ—ä¸­çš„å€¼æ˜¯é‡å¤çš„ã€‚å®ƒä»¬æ˜¯é‡å¤çš„ï¼Œæˆ‘ä»¬æœ‰2ã€2ã€2ã€66ç­‰ç­‰ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½ä»…å‡­æ­¤åˆ—å”¯ä¸€è¯†åˆ«æ¯æ¡è®°å½•ï¼Œäº§å“IDä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¿™ä¸€åˆ—ä¸­çš„å€¼ä¹Ÿè¢«é‡å¤ï¼Œå› æ­¤åœ¨è¿™ä¸ªè¡¨ä¸­æˆ‘ä»¬ä½¿ç”¨è¿™ä¸¤ä¸ªåˆ—ä¸­å€¼çš„ç»„åˆæ¥å”¯ä¸€è¯†åˆ«æ¯ä¸ªè®¢å•é¡¹ï¼Œä½œä¸ºä¾‹å­ï¼Œåœ¨è¿™ä¸ªè®¢å•ä¸­æˆ‘ä»¬æœ‰ä¸‰é¡¹äº§å“ã€‚
- en: 4 and6 and for each product we have the quantity and unit priceã€‚ğŸ˜Šã€‚So if we use
    the combination of the values in both these columns we can uniquely identify each
    order itemã€‚ in other words we don't have two records for order ID2 and product
    ID1 we only have a single record for that item right now let's open this table
    in the design mode so over here click on this middle icon that looks like a toolã€‚ğŸ˜Šï¼ŒNote
    that this yellow key that represents the primary key exists on both these columnsã€‚
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 4å’Œ6ï¼Œæ¯ä¸ªäº§å“éƒ½æœ‰æ•°é‡å’Œå•ä»·ã€‚ğŸ˜Šã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨è¿™ä¸¤ä¸ªåˆ—ä¸­å€¼çš„ç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥å”¯ä¸€è¯†åˆ«æ¯ä¸ªè®¢å•é¡¹ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¸¤ä¸ªè®°å½•å¯¹åº”è®¢å•ID2å’Œäº§å“ID1ï¼Œç°åœ¨æˆ‘ä»¬åªä¸ºè¯¥é¡¹æœ‰ä¸€æ¡è®°å½•ï¼Œå¥½çš„ï¼Œç°åœ¨è®©æˆ‘ä»¬åœ¨è®¾è®¡æ¨¡å¼ä¸‹æ‰“å¼€è¿™ä¸ªè¡¨ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œç‚¹å‡»è¿™ä¸ªçœ‹èµ·æ¥åƒå·¥å…·çš„ä¸­é—´å›¾æ ‡ã€‚ğŸ˜Šï¼Œæ³¨æ„ï¼Œè¿™ä¸¤ä¸ªåˆ—ä¸Šéƒ½æœ‰è¡¨ç¤ºä¸»é”®çš„é»„è‰²é’¥åŒ™ã€‚
- en: this is what we call a composite primary keyï¼Œ a composite primary key contains
    more than one columnã€‚ğŸ˜Šï¼ŒNow why does this matter Well when you have a table with
    a composite primary key you need to learn how to join that table with other tables
    for exampleã€‚
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å¤åˆä¸»é”®ï¼Œå¤åˆä¸»é”®åŒ…å«å¤šä¸ªåˆ—ã€‚ğŸ˜Šï¼Œé‚£ä¹ˆè¿™æœ‰ä»€ä¹ˆé‡è¦æ€§å‘¢ï¼Ÿå½“ä½ æœ‰ä¸€ä¸ªå¤åˆä¸»é”®çš„è¡¨æ—¶ï¼Œä½ éœ€è¦å­¦ä¹ å¦‚ä½•å°†è¯¥è¡¨ä¸å…¶ä»–è¡¨è¿æ¥ï¼Œä¾‹å¦‚ã€‚
- en: here we have this table order item notes that we use to keep notes for each
    order item let's take a look at the data here so we have this column note ID which
    uniquely identifies the records in this table next to that we have order ID and
    product ID you learn that the combination of these two columns uniquely represents
    an order itemã€‚
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæˆ‘ä»¬æœ‰è¿™ä¸ªè®¢å•é¡¹å¤‡æ³¨è¡¨ï¼Œç”¨äºä¿å­˜æ¯ä¸ªè®¢å•é¡¹çš„å¤‡æ³¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™é‡Œçš„æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬æœ‰è¿™ä¸ªå¤‡æ³¨IDåˆ—ï¼Œå®ƒå”¯ä¸€æ ‡è¯†æ­¤è¡¨ä¸­çš„è®°å½•ï¼Œæ—è¾¹æ˜¯è®¢å•IDå’Œäº§å“IDï¼Œä½ ä¼šå‘ç°è¿™ä¸¤åˆ—çš„ç»„åˆå”¯ä¸€è¡¨ç¤ºä¸€ä¸ªè®¢å•é¡¹ã€‚
- en: ğŸ˜Šï¼ŒSo here for order number twoï¼Œ for product number oneï¼Œ we have two notesã€‚ğŸ˜Šã€‚Now
    let me show you how to join this table with the Order items tableã€‚ğŸ˜Šï¼ŒSo back to
    our queryã€‚ğŸ˜Šã€‚You can see that I have already selected the SQL store databaseã€‚ so
    I'm not going to type out a use statementã€‚ğŸ˜Šï¼ŒAll rightï¼Œ let's select everything
    fromã€‚
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ˜Šï¼Œæ‰€ä»¥å¯¹äºè®¢å•å·äºŒï¼Œäº§å“å·ä¸€ï¼Œæˆ‘ä»¬æœ‰ä¸¤æ¡å¤‡æ³¨ã€‚ğŸ˜Šã€‚ç°åœ¨è®©æˆ‘å‘Šè¯‰ä½ å¦‚ä½•å°†è¿™ä¸ªè¡¨ä¸è®¢å•é¡¹è¡¨è¿æ¥ã€‚ğŸ˜Šï¼Œæ‰€ä»¥å›åˆ°æˆ‘ä»¬çš„æŸ¥è¯¢ã€‚ğŸ˜Šã€‚ä½ å¯ä»¥çœ‹åˆ°æˆ‘å·²ç»é€‰æ‹©äº†SQLå­˜å‚¨æ•°æ®åº“ï¼Œæ‰€ä»¥æˆ‘ä¸éœ€è¦è¾“å…¥ä½¿ç”¨è¯­å¥ã€‚ğŸ˜Šï¼Œå¥½å§ï¼Œè®©æˆ‘ä»¬ä»ä¸­é€‰æ‹©æ‰€æœ‰å†…å®¹ã€‚
- en: The Order items tableã€‚Give it an aliasã€‚ğŸ˜Šï¼ŒNow we need to join this with order
    item nodeã€‚ also we give it an aliasã€‚ğŸ˜Šï¼ŒHow are we going to join these tables based
    on two columns back to the order items tableï¼Ÿ
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: è®¢å•é¡¹è¡¨ã€‚ç»™å®ƒä¸€ä¸ªåˆ«åã€‚ğŸ˜Šï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å°†å…¶ä¸è®¢å•é¡¹å¤‡æ³¨è¿æ¥ã€‚ä¹Ÿç»™å®ƒä¸€ä¸ªåˆ«åã€‚ğŸ˜Šï¼Œæˆ‘ä»¬å°†å¦‚ä½•æ ¹æ®ä¸¤ä¸ªåˆ—è¿æ¥è¿™äº›è¡¨ï¼Œå›åˆ°è®¢å•é¡¹è¡¨ï¼Ÿ
- en: These are the columns that we need to use in our joint conditionã€‚So in the order
    items tableã€‚We have this order ID columnã€‚This would be equal to the same column
    in order item Note tableã€‚ so OIN dot order IDã€‚But this is not enoughï¼Œ we should
    also join these tables based on the product ID columnã€‚ so we type out and and
    then we type out our second conditionã€‚
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯æˆ‘ä»¬åœ¨è”åˆæ¡ä»¶ä¸­éœ€è¦ä½¿ç”¨çš„åˆ—ã€‚å› æ­¤åœ¨è®¢å•é¡¹è¡¨ä¸­ï¼Œæˆ‘ä»¬æœ‰è¿™ä¸ªè®¢å• ID åˆ—ã€‚è¿™å°†ç­‰äºè®¢å•é¡¹å¤‡æ³¨è¡¨ä¸­çš„åŒä¸€åˆ—ï¼Œæ‰€ä»¥æ˜¯ OIN.dot.order IDã€‚ä½†æ˜¯è¿™è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜åº”è¯¥æ ¹æ®äº§å“
    ID åˆ—æ¥è¿æ¥è¿™äº›è¡¨ã€‚å› æ­¤æˆ‘ä»¬è¾“å…¥â€œandâ€ï¼Œç„¶åè¾“å…¥æˆ‘ä»¬çš„ç¬¬äºŒä¸ªæ¡ä»¶ã€‚
- en: so order items do product ID should be equal to order item notes do product
    IDã€‚This is what we call a compound join conditionï¼Œ so we have multiple conditions
    to join these two tablesã€‚![](img/53c7c09d8eb1f22d1330df77256a9f36_2.png)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥è®¢å•é¡¹çš„äº§å“ ID åº”è¯¥ç­‰äºè®¢å•é¡¹å¤‡æ³¨çš„äº§å“ IDã€‚è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å¤åˆè¿æ¥æ¡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬æœ‰å¤šä¸ªæ¡ä»¶æ¥è¿æ¥è¿™ä¸¤ä¸ªè¡¨ã€‚![](img/53c7c09d8eb1f22d1330df77256a9f36_2.png)
- en: Ohã€‚![](img/53c7c09d8eb1f22d1330df77256a9f36_4.png)
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å“¦ã€‚![](img/53c7c09d8eb1f22d1330df77256a9f36_4.png)
