- en: ã€åŒè¯­å­—å¹•+èµ„æ–™ä¸‹è½½ã€‘T81-558 ï½œ æ·±åº¦ç¥ç»ç½‘ç»œåº”ç”¨-å…¨æ¡ˆä¾‹å®æ“ç³»åˆ—(2021æœ€æ–°Â·å®Œæ•´ç‰ˆ) - P15ï¼šL2.4- åœ¨ Pandas ä¸­ä¸º Keras
    ä½¿ç”¨ Apply å’Œ Map - ShowMeAI - BV15f4y1w7b8
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ã€åŒè¯­å­—å¹•+èµ„æ–™ä¸‹è½½ã€‘T81-558 ï½œ æ·±åº¦ç¥ç»ç½‘ç»œåº”ç”¨-å…¨æ¡ˆä¾‹å®æ“ç³»åˆ—(2021æœ€æ–°Â·å®Œæ•´ç‰ˆ) - P15ï¼šL2.4- åœ¨ Pandas ä¸­ä¸º Keras
    ä½¿ç”¨ Apply å’Œ Map - ShowMeAI - BV15f4y1w7b8
- en: Hiï¼Œ this is Jeffine and welcome to applications of Deep neural networks with
    Washington University In this videoã€‚ we're going to look at how to use apply and
    map functions together with pandasã€‚ This allows you to write Lambda functions
    or other functions that will be executed across your entire data frameã€‚ This allows
    you to do relatively complicated transformations to your data frame that might
    be very useful for feature engineeringã€‚
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: å—¨ï¼Œæˆ‘æ˜¯Jeffineï¼Œæ¬¢è¿æ¥åˆ°åç››é¡¿å¤§å­¦çš„æ·±åº¦ç¥ç»ç½‘ç»œåº”ç”¨è¯¾ç¨‹ã€‚åœ¨è¿™æ®µè§†é¢‘ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•ç»“åˆä½¿ç”¨applyå’Œmapå‡½æ•°ä¸pandasã€‚è¿™å…è®¸ä½ ç¼–å†™å°†æ‰§è¡Œåœ¨æ•´ä¸ªæ•°æ®æ¡†ä¸Šçš„Lambdaå‡½æ•°æˆ–å…¶ä»–å‡½æ•°ã€‚è¿™ä½¿ä½ èƒ½å¤Ÿå¯¹æ•°æ®æ¡†è¿›è¡Œç›¸å¯¹å¤æ‚çš„è½¬æ¢ï¼Œè¿™å¯¹ç‰¹å¾å·¥ç¨‹å¯èƒ½éå¸¸æœ‰ç”¨ã€‚
- en: which allows you to represent the data in ways that will allow your neural network
    to be more predictive for the latest on my AI course and projectsã€‚ click subscribescribe
    and the bell next to it to be notified of every new videoã€‚ applyly and map or
    two functions that are provided by a pandas data frame that you can use directly
    on theseã€‚ Now we've seen map already for just general Python data structures lists
    in particularã€‚ğŸ˜Šã€‚
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå…è®¸ä½ ä»¥èƒ½ä½¿ä½ çš„ç¥ç»ç½‘ç»œæ›´å…·é¢„æµ‹èƒ½åŠ›çš„æ–¹å¼è¡¨ç¤ºæ•°æ®ã€‚æœ‰å…³æˆ‘æœ€æ–°çš„AIè¯¾ç¨‹å’Œé¡¹ç›®ï¼Œè¯·ç‚¹å‡»è®¢é˜…å¹¶ç‚¹å‡»æ—è¾¹çš„é“ƒé“›ï¼Œä»¥ä¾¿åœ¨æ¯ä¸ªæ–°è§†é¢‘å‘å¸ƒæ—¶æ”¶åˆ°é€šçŸ¥ã€‚applyå’Œmapæ˜¯pandasæ•°æ®æ¡†æä¾›çš„ä¸¤ä¸ªå‡½æ•°ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨è¿™äº›æ•°æ®ä¸Šä½¿ç”¨ã€‚ç°åœ¨æˆ‘ä»¬å·²ç»çœ‹åˆ°mapåœ¨ä¸€èˆ¬Pythonæ•°æ®ç»“æ„åˆ—è¡¨ä¸­çš„åº”ç”¨ã€‚ğŸ˜Š
- en: '![](img/5e8029765ef65f0d9c303a190e424729_1.png)'
  id: totrans-3
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5e8029765ef65f0d9c303a190e424729_1.png)'
- en: But map can be used with data frames to do similar types of transformations
    for more advanced feature engineering that you'll probably have to do with some
    of the projects in this classã€‚Apply and map can be veryï¼Œ very useful and we'll
    look at a specific caseã€‚
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯mapå¯ä»¥ä¸æ•°æ®æ¡†ä¸€èµ·ä½¿ç”¨ï¼Œè¿›è¡Œç±»ä¼¼çš„è½¬æ¢ï¼Œè¿™å¯¹äºä½ åœ¨æœ¬è¯¾ç¨‹ä¸­çš„æŸäº›é¡¹ç›®å¯èƒ½éœ€è¦çš„æ›´é«˜çº§çš„ç‰¹å¾å·¥ç¨‹éå¸¸æœ‰ç”¨ã€‚applyå’Œmapå¯ä»¥éå¸¸éå¸¸æœ‰ç”¨ï¼Œæˆ‘ä»¬å°†çœ‹ä¸€ä¸ªå…·ä½“çš„æ¡ˆä¾‹ã€‚
- en: In the later part about how to do just thatã€‚So let's go ahead and load in the
    autompG data setã€‚We are going to do a very simple mapping on itã€‚ This is one of
    the most common things that you will do with for mapsã€‚ This is similar to a decodeã€‚In
    SQLã€‚What we're going to do is this origin value that you have here specifies the
    region that the car was fromã€‚ One is North Americaã€‚2 is Europeï¼Œ and3 is Asiaã€‚So
    what we're going to do for this is we're going to take the originã€‚
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åé¢çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†è®²è§£å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚ç°åœ¨æˆ‘ä»¬æ¥åŠ è½½autompgæ•°æ®é›†ã€‚æˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œéå¸¸ç®€å•çš„æ˜ å°„ã€‚è¿™æ˜¯ä½ è¿›è¡Œæ˜ å°„æ—¶æœ€å¸¸è§çš„æ“ä½œä¹‹ä¸€ã€‚è¿™ç±»ä¼¼äºSQLä¸­çš„è§£ç ã€‚æˆ‘ä»¬è¦åšçš„æ˜¯ï¼Œæ‚¨è¿™é‡Œçš„åŸå§‹å€¼æŒ‡å®šäº†æ±½è½¦çš„æ¥æºåœ°åŒºã€‚1æ˜¯åŒ—ç¾ï¼Œ2æ˜¯æ¬§æ´²ï¼Œ3æ˜¯äºšæ´²ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†å¯¹åŸå§‹å€¼è¿›è¡Œå¤„ç†ã€‚
- en: We're going to create a column called originig name and we're going to fill
    it in all cases where this is what the map will doã€‚ it's going to look up the
    origin value and it's going to replace it with North America for oneã€‚ Europe for
    two and Asia for threeï¼Œ so let's run thatã€‚And if I scroll that over a little bitã€‚
    you can see North Americaï¼Œ North Americaï¼Œ Asia for that threeã€‚Asiaï¼Œ Europe is
    twoã€‚And so onã€‚
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸ºoriginig nameçš„åˆ—ï¼Œå¹¶åœ¨æ‰€æœ‰æƒ…å†µä¸‹å¡«å……å®ƒï¼Œè¿™å°±æ˜¯mapæ‰€è¦åšçš„ã€‚å®ƒå°†æŸ¥æ‰¾åŸå§‹å€¼ï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸ºåŒ—ç¾ï¼ˆ1ï¼‰ã€æ¬§æ´²ï¼ˆ2ï¼‰å’Œäºšæ´²ï¼ˆ3ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥è¿è¡Œä¸€ä¸‹ã€‚å¦‚æœæˆ‘ç¨å¾®æ»šåŠ¨ä¸€ä¸‹ï¼Œä½ å¯ä»¥çœ‹åˆ°åŒ—ç¾ã€åŒ—ç¾ï¼Œ3æ˜¯äºšæ´²ï¼Œ2æ˜¯æ¬§æ´²ï¼Œä¾æ­¤ç±»æ¨ã€‚
- en: So this can be a very good way to summarize values if you could actuallyã€‚I meanã€‚
    say you had numbers in here that were all the 50 statesã€‚Of the United States of
    Americaã€‚ you could put a bunch of values in here that go to the same thingã€‚ You
    could do one to North Americaï¼Œ2 to North America or even state namesï¼Œ Missouri
    to North Americaã€‚
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå¦‚æœä½ èƒ½å¤Ÿå®é™…åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¿™å¯ä»¥æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æ€»ç»“å€¼çš„æ–¹æ³•ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼Œå‡è®¾ä½ åœ¨è¿™é‡Œæœ‰æ‰€æœ‰ç¾å›½50ä¸ªå·çš„æ•°å­—ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ”¾ä¸€å †å€¼ï¼Œå®ƒä»¬æŒ‡å‘åŒæ ·çš„ä¸œè¥¿ã€‚ä½ å¯ä»¥ç”¨1æŒ‡å‘åŒ—ç¾ï¼Œç”¨2æŒ‡å‘åŒ—ç¾ï¼Œç”šè‡³æ˜¯å·åï¼Œå¯†è‹é‡Œå·æŒ‡å‘åŒ—ç¾ã€‚
- en: California to North Americaï¼Œ New Yorkï¼Œ to North America and so on and so forthã€‚
    Whereas if you saw Franceï¼Œ it would go to Europeã€‚ So you can also use this to
    to summarizeã€‚ apply is anotherã€‚Thing that you can useã€‚With these data setsã€‚Apply
    basically takes a functionã€‚ typically a lambda and runs it against every singleã€‚Row
    in the dataã€‚So hereã€‚
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ åˆ©ç¦å°¼äºšåˆ°åŒ—ç¾ï¼Œçº½çº¦åˆ°åŒ—ç¾ï¼Œç­‰ç­‰ã€‚å¦‚æœä½ çœ‹åˆ°æ³•å›½ï¼Œå®ƒå°±å±äºæ¬§æ´²ã€‚å› æ­¤ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ¥è¿›è¡Œæ€»ç»“ã€‚applyæ˜¯å¦ä¸€ä¸ªä½ å¯ä»¥ä½¿ç”¨çš„ä¸œè¥¿ã€‚å¯¹äºè¿™äº›æ•°æ®é›†ï¼ŒapplyåŸºæœ¬ä¸Šæ˜¯å°†ä¸€ä¸ªå‡½æ•°ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªlambdaï¼Œåº”ç”¨äºæ•°æ®ä¸­çš„æ¯ä¸€è¡Œã€‚æ‰€ä»¥è¿™é‡Œã€‚
- en: let's go ahead and run thisï¼Œ this is calculating something that I call an efficiencyã€‚It's
    basically the displacement divided by the horsepowerã€‚So how big is your engine
    versus how much horsepower do you actually getï¼Ÿ
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç»§ç»­è¿›è¡Œè®¡ç®—ï¼Œè¿™ä¸ªæˆ‘ç§°ä¹‹ä¸ºæ•ˆç‡çš„æŒ‡æ ‡ã€‚å®ƒåŸºæœ¬ä¸Šæ˜¯ä½ç§»é™¤ä»¥é©¬åŠ›ã€‚ä½ çš„å‘åŠ¨æœºæœ‰å¤šå¤§ï¼Œå®é™…èƒ½è·å¾—å¤šå°‘é©¬åŠ›ï¼Ÿ
- en: And this gives you a general indication of the efficiency of the carã€‚ So we
    could add that in to the data setã€‚ This shows how you'reã€‚ you're sort of engineering
    a feature based onã€‚Based on this ratioã€‚Here I'll show you a more complex example
    of feature engineeringã€‚
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç»™ä½ æä¾›äº†æ±½è½¦æ•ˆç‡çš„ä¸€èˆ¬æŒ‡ç¤ºã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ·»åŠ åˆ°æ•°æ®é›†ä¸­ã€‚è¿™æ˜¾ç¤ºäº†ä½ å¦‚ä½•åŸºäºè¿™ä¸ªæ¯”ç‡è¿›è¡Œç‰¹å¾å·¥ç¨‹ã€‚è¿™é‡Œæˆ‘å°†å±•ç¤ºä¸€ä¸ªæ›´å¤æ‚çš„ç‰¹å¾å·¥ç¨‹ç¤ºä¾‹ã€‚
- en: This was actually an assignment in previous semestersã€‚You'll probably see an
    assignment about like this one in this semesterã€‚This basically is using a data
    set that we have here from the IRSã€‚ which is a United States governmentã€‚Taxaing
    authorityã€‚And we're going toã€‚
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å®é™…ä¸Šæ˜¯å‰å‡ ä¸ªå­¦æœŸçš„ä¸€ä¸ªä½œä¸šã€‚ä½ å¯èƒ½ä¼šåœ¨è¿™ä¸ªå­¦æœŸçœ‹åˆ°ç±»ä¼¼çš„ä½œä¸šã€‚è¿™åŸºæœ¬ä¸Šä½¿ç”¨äº†æ¥è‡ªç¾å›½å›½ç¨å±€çš„æ•°æ®é›†ï¼Œè¿™æ˜¯ä¸€ä¸ªç¾å›½æ”¿åºœçš„ç¨åŠ¡æœºæ„ã€‚æˆ‘ä»¬å°†ä¼šã€‚
- en: there's also more data documentation on here if you care to read about itã€‚ but
    this is basically a data set that gives you the estimated adjust gross incomeã€‚Plusã€‚
    other things for zip codes in the United Statesï¼Œ so the fields that you care about
    are stateã€‚ which is the state exampleï¼Œ Missouriã€‚Zip codeã€‚Is the zip code of within
    that stateï¼Ÿ
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œè¿˜æœ‰æ›´å¤šæ•°æ®æ–‡æ¡£ï¼Œå¦‚æœä½ æœ‰å…´è¶£é˜…è¯»ã€‚ä½†è¿™åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªæ•°æ®é›†ï¼Œæä¾›äº†ä¼°è®¡çš„è°ƒæ•´åæ€»æ”¶å…¥ä»¥åŠç¾å›½é‚®æ”¿ç¼–ç çš„å…¶ä»–ä¿¡æ¯ï¼Œæ‰€ä»¥ä½ å…³å¿ƒçš„å­—æ®µæ˜¯å·ï¼Œä¸¾ä¾‹æ¥è¯´æ˜¯å¯†è‹é‡Œå·ã€‚é‚®æ”¿ç¼–ç æ˜¯è¯¥å·å†…çš„é‚®æ”¿ç¼–ç ã€‚
- en: AGI Stub are six different income bracketsã€‚So one is the lowest incomeï¼Œ six
    is the highest incomeã€‚Each zip code is going to have six rows for it then they
    give you a countï¼Œ which is in oneã€‚Of the number of people in each of those income
    bracketsã€‚ so that gives you sort of a distribution of wealth in that particular
    zip codeã€‚
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: AGI Stub æœ‰å…­ä¸ªä¸åŒçš„æ”¶å…¥åŒºé—´ã€‚æ‰€ä»¥ä¸€æ˜¯æœ€ä½æ”¶å…¥ï¼Œå…­æ˜¯æœ€é«˜æ”¶å…¥ã€‚æ¯ä¸ªé‚®æ”¿ç¼–ç å°†æœ‰å…­è¡Œæ•°æ®ï¼Œç„¶åå®ƒä»¬ä¼šç»™ä½ ä¸€ä¸ªè®¡æ•°ï¼Œå³æ¯ä¸ªæ”¶å…¥åŒºé—´çš„äººæ•°ã€‚å› æ­¤ï¼Œè¿™ä¸ºç‰¹å®šé‚®æ”¿ç¼–ç æä¾›äº†ä¸€ç§è´¢å¯Œåˆ†å¸ƒçš„æ¦‚å¿µã€‚
- en: What we're going to try to do is put those bands back together so that you have
    aã€‚Estimate of what what the overall AGI is for that that particular zip codeï¼Œ
    so this is a reductionã€‚ you've got zip codeï¼Œ you've got six rows for each zip
    codeã€‚ you want to crunch that down to just one row per zip code and just give
    an overall estimate of the adjust roasted incomeã€‚
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¦å°è¯•å°†è¿™äº›åŒºé—´ç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿ä½ èƒ½ä¼°ç®—è¯¥ç‰¹å®šé‚®æ”¿ç¼–ç çš„æ•´ä½“ AGIï¼Œå› æ­¤è¿™æ˜¯ä¸€ä¸ªç®€åŒ–ã€‚ä½ æœ‰é‚®æ”¿ç¼–ç ï¼Œæ¯ä¸ªé‚®æ”¿ç¼–ç æœ‰å…­è¡Œæ•°æ®ã€‚ä½ æƒ³å°†å…¶ç¼©å‡ä¸ºæ¯ä¸ªé‚®æ”¿ç¼–ç ä»…ä¸€è¡Œï¼Œå¹¶ç»™å‡ºè°ƒæ•´åæ€»æ”¶å…¥çš„æ•´ä½“ä¼°ç®—ã€‚
- en: And this is kind of what the file looks likeã€‚ See you've got 63017ã€‚ this is
    a zip code that I work inã€‚AGI Stubï¼Œ so that's your six values they have for each
    and then the countã€‚So the second to the highest is the largest incomeã€‚And this
    shows this particular income if you do probably the mostã€‚
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯æ–‡ä»¶çš„æ ·å­ã€‚ä½ çœ‹åˆ°çš„é‚®æ”¿ç¼–ç æ˜¯63017ã€‚è¿™æ˜¯æˆ‘å·¥ä½œçš„é‚®æ”¿ç¼–ç ã€‚AGI Stubï¼Œæ‰€ä»¥è¿™æ˜¯ä½ ä¸ºæ¯ä¸ªé‚®æ”¿ç¼–ç æ‹¥æœ‰çš„å…­ä¸ªå€¼ï¼Œç„¶åæ˜¯è®¡æ•°ã€‚å› æ­¤ï¼Œç¬¬äºŒé«˜çš„æ˜¯æœ€å¤§çš„æ”¶å…¥ã€‚è¿™æ˜¾ç¤ºäº†è¿™ä¸ªç‰¹å®šæ”¶å…¥ï¼Œå¦‚æœä½ åšå¾—æœ€å¤šã€‚
- en: Famous zip code in in the United States of Americaï¼Œ90210ï¼Œ it'd probably be pretty
    highã€‚ because that's a very affluent zip codeã€‚ So you see a lot of numbers down
    hereã€‚ What we're going to do to put it back togetherã€‚ These are this is the bands
    for each of these1 is 1 to 25 k 6 is 200000 or moreã€‚ Nowï¼Œ one of the issues with
    putting this back together is 200000 or moreã€‚ That's the R moreã€‚
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¾å›½è‘—åçš„é‚®æ”¿ç¼–ç 90210ï¼Œå¯èƒ½ä¼šéå¸¸é«˜ï¼Œå› ä¸ºé‚£æ˜¯ä¸€ä¸ªéå¸¸å¯Œè£•çš„é‚®æ”¿ç¼–ç ã€‚æ‰€ä»¥ä½ åœ¨è¿™é‡Œçœ‹åˆ°å¾ˆå¤šæ•°å­—ã€‚æˆ‘ä»¬å°†å¦‚ä½•å°†å…¶ç»„åˆèµ·æ¥ã€‚è¿™äº›æ˜¯æ¯ä¸ªåŒºé—´çš„å¸¦ï¼Œ1
    æ˜¯ 1 åˆ° 25kï¼Œ6 æ˜¯ 20ä¸‡ç¾å…ƒæˆ–æ›´å¤šã€‚ç°åœ¨ï¼Œå°†è¿™äº›é‡æ–°ç»„åˆçš„ä¸€ä¸ªé—®é¢˜æ˜¯20ä¸‡ç¾å…ƒæˆ–æ›´å¤šã€‚
- en: that's a pretty big category that could be up toï¼Œ I don't knowï¼Œ probably many
    millions of dollarsã€‚ Howeverï¼Œ much those guys are makingã€‚ So what we're going
    to do is we're going to establish a median for each of these rangesã€‚125ã€‚ Now this
    last one since we don't know what the ceiling is 2ï¼Œ12500ã€‚ That's probably the
    biggest flaw in this estimate that I'm that I'm putting togetherã€‚ But youã€‚
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªç›¸å½“å¤§çš„ç±»åˆ«ï¼Œå¯èƒ½é«˜è¾¾ï¼Œæˆ‘ä¸çŸ¥é“ï¼Œå¯èƒ½æ˜¯å‡ ç™¾ä¸‡ç¾å…ƒã€‚ä¸è¿‡ï¼Œè¿™äº›äººèµšäº†å¤šå°‘éƒ½ä¸æ¸…æ¥šã€‚æ‰€ä»¥æˆ‘ä»¬è¦åšçš„æ˜¯ä¸ºæ¯ä¸ªåŒºé—´å»ºç«‹ä¸€ä¸ªä¸­ä½æ•°ã€‚125ã€‚ç”±äºæˆ‘ä»¬ä¸çŸ¥é“ä¸Šé™æ˜¯ä»€ä¹ˆï¼Œ12500ã€‚è¿™å¯èƒ½æ˜¯æˆ‘æ•´ç†çš„ä¼°ç®—ä¸­æœ€å¤§çš„ç¼ºé™·ã€‚ä½†ä½ ã€‚
- en: you can see about where those are atã€‚ So the way that we can estimate6ï¼Œ3ï¼Œ0ï¼Œ17sã€‚
    average Agiã€‚Is we're going to basically sum all those in onesã€‚ So that's our total
    countã€‚ We're going to add those all upã€‚ We're going to total up the Agisï¼Œ but
    waiting them by the mediansã€‚ So we're going to take the count of people thatã€‚So
    the 4710 times 12500 because that's how many people are in bandand oneã€‚
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥çœ‹åˆ°è¿™äº›å¤§è‡´åœ¨å“ªé‡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¼°ç®—6ï¼Œ3ï¼Œ0ï¼Œ17çš„å¹³å‡AGIã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬å°†è¿™äº›å€¼ç›¸åŠ ã€‚æ‰€ä»¥è¿™å°±æ˜¯æˆ‘ä»¬çš„æ€»è®¡ã€‚æˆ‘ä»¬ä¼šæŠŠè¿™äº›å…¨éƒ¨åŠ èµ·æ¥ã€‚æˆ‘ä»¬å°†æ€»è®¡AGIï¼Œä½†æŒ‰ç…§ä¸­ä½æ•°åŠ æƒã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†è€ƒè™‘äººæ•°ã€‚4710ä¹˜ä»¥12500ï¼Œå› ä¸ºè¿™æ˜¯ä¹é˜Ÿä¸€çš„æ€»äººæ•°ã€‚
- en: that's the median for band oneã€‚Band twoï¼Œ there were two 2780 and 37500 was the
    median for that oneã€‚ so we're essentially this is sort of a weighted weighted
    sum you have hereã€‚And then we're going to divide thoseï¼Œ and that gives us the
    average income for this zip code is around 88ã€‚000ã€‚Which seems reasonably correctã€‚This
    is good too because this gives us a value that we can check by hand because we
    calculated this by handã€‚
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¹é˜Ÿä¸€çš„ä¸­ä½æ•°ã€‚ä¹é˜ŸäºŒçš„ä¸­ä½æ•°æ˜¯2780å’Œ37500ã€‚å› æ­¤ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªåŠ æƒå’Œã€‚ç„¶åæˆ‘ä»¬å°†è¿›è¡Œé™¤æ³•ï¼Œè¿™æ ·æˆ‘ä»¬å¾—åˆ°çš„è¿™ä¸ªé‚®æ”¿ç¼–ç çš„å¹³å‡æ”¶å…¥å¤§çº¦æ˜¯88,000ã€‚è¿™çœ‹èµ·æ¥æ˜¯åˆç†çš„ã€‚å› ä¸ºæˆ‘ä»¬æ‰‹åŠ¨è®¡ç®—äº†è¿™ä¸ªï¼Œæ‰€ä»¥è¿™ä¹Ÿå¾ˆå¥½ï¼Œå› ä¸ºå®ƒç»™äº†æˆ‘ä»¬ä¸€ä¸ªå¯ä»¥æ‰‹åŠ¨æ£€æŸ¥çš„å€¼ã€‚
- en: so our automated process that's going to calculate for everything single zip
    code should come up with the same valueã€‚ So we're going to load that data set
    into Ram it it's big and gigantic you'd probably want to stream itã€‚ but this is
    this is loading the entire data frame It'll be loaded in a secondã€‚That might have
    took a whileã€‚ That took probably 20 seconds for meã€‚ Now what we're going to doã€‚
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥æˆ‘ä»¬è‡ªåŠ¨åŒ–çš„è¿‡ç¨‹å°†è®¡ç®—æ¯ä¸€ä¸ªé‚®æ”¿ç¼–ç åº”è¯¥å¾—å‡ºç›¸åŒçš„å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æŠŠè¿™ä¸ªæ•°æ®é›†åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå®ƒéå¸¸åºå¤§ï¼Œä½ å¯èƒ½æƒ³è¦è¿›è¡Œæµå¼å¤„ç†ã€‚ä½†æ˜¯è¿™æ˜¯åŠ è½½æ•´ä¸ªæ•°æ®æ¡†ï¼Œé©¬ä¸Šå°±ä¼šåŠ è½½å®Œæˆã€‚è¿™å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ã€‚æˆ‘èŠ±äº†å¤§çº¦20ç§’ã€‚ç°åœ¨æˆ‘ä»¬è¦åšçš„äº‹æƒ…æ˜¯ã€‚
- en: So this is going to show you a good example of using multiple of these techniques
    togetherã€‚ Now this data set does have some junk data in itã€‚ So we have zip codes
    that are0 and 9999ã€‚ There's no such zip codesã€‚ they do have a purpose in the data
    fileï¼Œ but we're simply not using themã€‚So we are going to get all the rowsï¼Œ that's
    what Lo does for usã€‚
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°†å‘ä½ å±•ç¤ºä¸€ä¸ªå¾ˆå¥½ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°†å¤šç§æŠ€æœ¯ç»“åˆä½¿ç”¨ã€‚ç°åœ¨è¿™ä¸ªæ•°æ®é›†ç¡®å®æœ‰ä¸€äº›åƒåœ¾æ•°æ®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰é‚®æ”¿ç¼–ç æ˜¯0å’Œ9999ã€‚ä¸å­˜åœ¨è¿™æ ·çš„é‚®æ”¿ç¼–ç ã€‚å®ƒä»¬åœ¨æ•°æ®æ–‡ä»¶ä¸­ç¡®å®æœ‰ç”¨é€”ï¼Œä½†æˆ‘ä»¬ä¸æ‰“ç®—ä½¿ç”¨å®ƒä»¬ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†è·å–æ‰€æœ‰çš„è¡Œï¼Œè¿™å°±æ˜¯Loä¸ºæˆ‘ä»¬åšçš„ã€‚
- en: where the data frame is not equal to zero zip code and the zip code is not equal
    to 9999ã€‚And we're also going to only pull back these fieldsã€‚ so we're chopping
    this thing down horizontally and verticallyã€‚ we're getting rid of a bunch of columns
    and all the rows that have these invalid zip codesã€‚
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æ¡†ä¸ç­‰äºé›¶é‚®æ”¿ç¼–ç ï¼Œä¸”é‚®æ”¿ç¼–ç ä¸ç­‰äº9999ã€‚æˆ‘ä»¬è¿˜å°†ä»…æ‹‰å–è¿™äº›å­—æ®µã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ¨ªå‘å’Œçºµå‘ä¸Šç¼©å‡è¿™ä¸ªæ•°æ®ï¼Œå»æ‰äº†å¾ˆå¤šåˆ—å’Œæ‰€æœ‰è¿™äº›æ— æ•ˆé‚®æ”¿ç¼–ç çš„è¡Œã€‚
- en: You run thatã€‚This is actually very quick and now the data frame has been modified
    if you were to display the data frameã€‚You'll see that it has literally just these
    fourã€‚And the invalid ones are also goneã€‚ but we're not going to go hunting for
    themã€‚What we're now going to do is we're going to take all of these AGI stubs
    and replace those with the mediansã€‚Those medians that I gave you oneï¼Œ36ï¼Œ so this
    is a brilliant application of the mapã€‚We run thatã€‚
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ è¿è¡Œè¿™ä¸ªã€‚è¿™å®é™…ä¸Šæ˜¯éå¸¸å¿«é€Ÿçš„ï¼Œç°åœ¨æ•°æ®æ¡†å·²ç»è¢«ä¿®æ”¹ï¼Œå¦‚æœä½ æ˜¾ç¤ºæ•°æ®æ¡†ï¼Œä½ ä¼šçœ‹åˆ°å®ƒå®é™…ä¸Šåªå‰©ä¸‹è¿™å››ä¸ªã€‚æ— æ•ˆçš„ä¹Ÿè¢«å»æ‰äº†ã€‚ä½†æˆ‘ä»¬ä¸ä¼šå»å¯»æ‰¾å®ƒä»¬ã€‚æˆ‘ä»¬ç°åœ¨è¦åšçš„æ˜¯å°†æ‰€æœ‰è¿™äº›AGIæ¡©æ›¿æ¢ä¸ºä¸­ä½æ•°ã€‚é‚£äº›æˆ‘ç»™ä½ çš„ä¸­ä½æ•°æ˜¯1ï¼Œ36ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå‡ºè‰²çš„æ˜ å°„åº”ç”¨ã€‚æˆ‘ä»¬è¿è¡Œå®ƒã€‚
- en: Againï¼Œ it's veryï¼Œ very quickã€‚And if we look at thisã€‚ we now see that those should
    have transformed and they have the AGI stubs are nowã€‚Those actual income mediansã€‚
    Nextï¼Œ we group it by zip codeã€‚ and for each of those zip codes nowã€‚ we can basically
    perform a lambdaã€‚ So this is a great use for applyã€‚
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: å†ä¸€æ¬¡ï¼Œå®ƒéå¸¸éå¸¸å¿«ã€‚å¦‚æœæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬ç°åœ¨çœ‹åˆ°è¿™äº›åº”è¯¥å·²ç»è½¬åŒ–äº†ï¼Œå®ƒä»¬ç°åœ¨æ˜¯AGIæ¡©ã€‚é‚£äº›å®é™…çš„æ”¶å…¥ä¸­ä½æ•°ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŒ‰é‚®æ”¿ç¼–ç åˆ†ç»„ã€‚å¯¹äºæ¯ä¸€ä¸ªé‚®æ”¿ç¼–ç ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šå¯ä»¥æ‰§è¡Œä¸€ä¸ªlambdaã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åº”ç”¨åœºæ™¯ã€‚
- en: We're going to do apply across it and we're going to basically sum because we
    want to sum up all of the valuesã€‚ğŸ˜Šï¼ŒIn each of those zip codesï¼Œ but we're going
    to sum them weightedã€‚ so we're going to basically wait the n1ã€‚ So how many of
    them we haveã€‚ say the 30 there multiplied by the AGI Stubï¼Œ and then we're dividing
    the whole thing by in oneã€‚
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œapplyæ“ä½œï¼ŒåŸºæœ¬ä¸Šè¿›è¡Œæ±‚å’Œï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦å¯¹æ‰€æœ‰å€¼è¿›è¡Œæ±‚å’Œã€‚åœ¨æ¯ä¸€ä¸ªé‚®æ”¿ç¼–ç ä¸­ï¼Œä½†æˆ‘ä»¬å°†è¿›è¡ŒåŠ æƒæ±‚å’Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†åŸºæœ¬ä¸ŠæŒ‰ç…§n1è¿›è¡ŒåŠ æƒã€‚å‡è®¾æœ‰30ä¸ªï¼Œç„¶åä¹˜ä»¥AGIæ¡©ï¼Œæœ€åå°†æ•´ä¸ªç»“æœé™¤ä»¥n1ã€‚
- en: whichã€‚Which is the sum of the N1sï¼Œ actuallyï¼Œ you can see the sum there for that
    entire zip codeã€‚Then we reset the index so that the row numbers align like we've
    seen beforeã€‚We run thatã€‚That does take just a few secondsã€‚ Let's see what that
    actually didã€‚ We now pretty much have the data set where we want it to beã€‚Zip
    codeã€‚
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯N1çš„æ€»å’Œï¼Œå®é™…ä¸Šï¼Œä½ å¯ä»¥åœ¨æ•´ä¸ªé‚®æ”¿ç¼–ç çš„æ€»å’Œä¸­çœ‹åˆ°ã€‚ç„¶åæˆ‘ä»¬é‡ç½®ç´¢å¼•ï¼Œä½¿è¡Œå·å¯¹é½ï¼Œå¦‚æˆ‘ä»¬ä¹‹å‰æ‰€è§ã€‚æˆ‘ä»¬è¿è¡Œé‚£ä¸ªã€‚é‚£ç¡®å®éœ€è¦å‡ ç§’é’Ÿã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™å®é™…ä¸Šåšäº†ä»€ä¹ˆã€‚æˆ‘ä»¬ç°åœ¨å‡ ä¹æ‹¥æœ‰äº†æˆ‘ä»¬æƒ³è¦çš„æ•°æ®é›†ã€‚é‚®æ”¿ç¼–ç ã€‚
- en: and this is the average for each of thoseã€‚The column headers are a little bit
    sloppyï¼Œ zip codeã€‚ that's goodï¼Œ but zeroï¼Œ what's zeroï¼Œ zero should be our average
    AGIã€‚Our AGI estimateã€‚We'll just rename those two columns and then we display the
    topã€‚And we can see now we've got this nice outputã€‚ You'd probably want a two CSsv
    thenã€‚
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æ¯ä¸ªçš„å¹³å‡å€¼ã€‚åˆ—æ ‡é¢˜æœ‰ç‚¹æ‚ä¹±ï¼Œé‚®æ”¿ç¼–ç ã€‚è¿˜ä¸é”™ï¼Œä½†é›¶ï¼Œé›¶æ˜¯ä»€ä¹ˆï¼Œé›¶åº”è¯¥æ˜¯æˆ‘ä»¬çš„å¹³å‡AGIã€‚æˆ‘ä»¬çš„AGIä¼°ç®—ã€‚æˆ‘ä»¬å°†é‡æ–°å‘½åè¿™ä¸¤åˆ—ï¼Œç„¶åæ˜¾ç¤ºé¡¶éƒ¨ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰è¿™ä¸ªæ¼‚äº®çš„è¾“å‡ºã€‚ä½ å¯èƒ½æƒ³è¦ä¸€ä¸ªä¸¤ä¸ªCSsvã€‚
- en: and that that would be a completely valid submission for that previous assignment
    that I ran inã€‚Last semesterã€‚We'll look up our zip code that we calculated by handï¼Œ
    and that matches our 88ã€‚689 that we had beforeã€‚ Thank you for watching this video
    In the next videoã€‚ we're going to continue with using pandas and talk about feature
    engineeringï¼Œ which is how youã€‚ğŸ˜Šã€‚
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å®Œå…¨æ˜¯æˆ‘ä¹‹å‰è¿›è¡Œçš„ä½œä¸šçš„æœ‰æ•ˆæäº¤ã€‚ä¸Šä¸ªå­¦æœŸã€‚æˆ‘ä»¬å°†æŸ¥æ‰¾æˆ‘ä»¬æ‰‹åŠ¨è®¡ç®—çš„é‚®æ”¿ç¼–ç ï¼Œå®ƒä¸æˆ‘ä»¬ä¹‹å‰çš„88.689åŒ¹é…ã€‚æ„Ÿè°¢è§‚çœ‹è¿™ä¸ªè§†é¢‘ã€‚åœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘ä»¬å°†ç»§ç»­ä½¿ç”¨pandasï¼Œå¹¶è®¨è®ºç‰¹å¾å·¥ç¨‹ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•ä½ ã€‚ğŸ˜Š
- en: '![](img/5e8029765ef65f0d9c303a190e424729_3.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5e8029765ef65f0d9c303a190e424729_3.png)'
- en: Represent your data set in a way that helps the neural network to be more predictiveã€‚
    This content changes oftenï¼Œ so subscribe to the channel to stay up to date on
    this course and other topics in artificial intelligenceã€‚
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥æœ‰åŠ©äºç¥ç»ç½‘ç»œæ›´å…·é¢„æµ‹æ€§çš„æ–¹å¼è¡¨ç¤ºä½ çš„æ•°æ®é›†ã€‚è¿™ä¸ªå†…å®¹ç»å¸¸å˜åŒ–ï¼Œæ‰€ä»¥è¯·è®¢é˜…é¢‘é“ä»¥ä¿æŒå¯¹æœ¬è¯¾ç¨‹å’Œå…¶ä»–äººå·¥æ™ºèƒ½ä¸»é¢˜çš„æœ€æ–°äº†è§£ã€‚
